{"version":3,"file":"js/looly-media-bundle.js","mappings":"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","sources":["webpack://MediaBundle/webpack/universalModuleDefinition","webpack://MediaBundle/./node_modules/basiclightbox/dist/basicLightbox.min.js","webpack://MediaBundle/./node_modules/filepond-plugin-file-metadata/dist/filepond-plugin-file-metadata.js","webpack://MediaBundle/./node_modules/filepond/dist/filepond.js","webpack://MediaBundle/webpack/bootstrap","webpack://MediaBundle/webpack/runtime/compat get default export","webpack://MediaBundle/webpack/runtime/define property getters","webpack://MediaBundle/webpack/runtime/hasOwnProperty shorthand","webpack://MediaBundle/webpack/runtime/make namespace object","webpack://MediaBundle/./assets/ts/options/variables.ts","webpack://MediaBundle/./assets/ts/template/modal-library.ts","webpack://MediaBundle/./assets/ts/template/card.ts","webpack://MediaBundle/./node_modules/axios/lib/helpers/bind.js","webpack://MediaBundle/./node_modules/axios/lib/utils.js","webpack://MediaBundle/./node_modules/axios/lib/core/AxiosError.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/toFormData.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/AxiosURLSearchParams.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/buildURL.js","webpack://MediaBundle/./node_modules/axios/lib/core/InterceptorManager.js","webpack://MediaBundle/./node_modules/axios/lib/defaults/transitional.js","webpack://MediaBundle/./node_modules/axios/lib/platform/browser/index.js","webpack://MediaBundle/./node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","webpack://MediaBundle/./node_modules/axios/lib/platform/browser/classes/FormData.js","webpack://MediaBundle/./node_modules/axios/lib/platform/browser/classes/Blob.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/formDataToJSON.js","webpack://MediaBundle/./node_modules/axios/lib/defaults/index.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/toURLEncodedForm.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://MediaBundle/./node_modules/axios/lib/core/AxiosHeaders.js","webpack://MediaBundle/./node_modules/axios/lib/core/transformData.js","webpack://MediaBundle/./node_modules/axios/lib/cancel/isCancel.js","webpack://MediaBundle/./node_modules/axios/lib/cancel/CanceledError.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/cookies.js","webpack://MediaBundle/./node_modules/axios/lib/core/buildFullPath.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/combineURLs.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://MediaBundle/./node_modules/axios/lib/adapters/xhr.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/speedometer.js","webpack://MediaBundle/./node_modules/axios/lib/adapters/adapters.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/null.js","webpack://MediaBundle/./node_modules/axios/lib/core/settle.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/parseProtocol.js","webpack://MediaBundle/./node_modules/axios/lib/core/dispatchRequest.js","webpack://MediaBundle/./node_modules/axios/lib/core/mergeConfig.js","webpack://MediaBundle/./node_modules/axios/lib/env/data.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/validator.js","webpack://MediaBundle/./node_modules/axios/lib/core/Axios.js","webpack://MediaBundle/./node_modules/axios/lib/cancel/CancelToken.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/HttpStatusCode.js","webpack://MediaBundle/./node_modules/axios/lib/axios.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/spread.js","webpack://MediaBundle/./node_modules/axios/lib/helpers/isAxiosError.js","webpack://MediaBundle/./assets/ts/handler/api/list.ts","webpack://MediaBundle/./assets/ts/module/modal.ts","webpack://MediaBundle/./assets/ts/field/gallery.ts","webpack://MediaBundle/./assets/ts/field/media.ts","webpack://MediaBundle/./assets/ts/module/delete.ts","webpack://MediaBundle/./assets/ts/handler/api/remove.ts","webpack://MediaBundle/./assets/ts/field/library.ts","webpack://MediaBundle/./assets/ts/template/modal-delete.ts","webpack://MediaBundle/./assets/ts/module/upload.ts","webpack://MediaBundle/./assets/ts/field/upload.ts","webpack://MediaBundle/./assets/ts/template/modal-upload.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"MediaBundle\"] = factory();\n\telse\n\t\troot[\"MediaBundle\"] = factory();\n})(self, () => {\nreturn ","!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{(\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this).basicLightbox=e()}}((function(){return function e(n,t,o){function r(c,u){if(!t[c]){if(!n[c]){var s=\"function\"==typeof require&&require;if(!u&&s)return s(c,!0);if(i)return i(c,!0);var a=new Error(\"Cannot find module '\"+c+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var l=t[c]={exports:{}};n[c][0].call(l.exports,(function(e){return r(n[c][1][e]||e)}),l,l.exports,e,n,t,o)}return t[c].exports}for(var i=\"function\"==typeof require&&require,c=0;c<o.length;c++)r(o[c]);return r}({1:[function(e,n,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.create=t.visible=void 0;var o=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.createElement(\"div\");return t.innerHTML=e.trim(),!0===n?t.children:t.firstChild},r=function(e,n){var t=e.children;return 1===t.length&&t[0].tagName===n},i=function(e){return null!=(e=e||document.querySelector(\".basicLightbox\"))&&!0===e.ownerDocument.body.contains(e)};t.visible=i;t.create=function(e,n){var t=function(e,n){var t=o('\\n\\t\\t<div class=\"basicLightbox '.concat(n.className,'\">\\n\\t\\t\\t<div class=\"basicLightbox__placeholder\" role=\"dialog\"></div>\\n\\t\\t</div>\\n\\t')),i=t.querySelector(\".basicLightbox__placeholder\");e.forEach((function(e){return i.appendChild(e)}));var c=r(i,\"IMG\"),u=r(i,\"VIDEO\"),s=r(i,\"IFRAME\");return!0===c&&t.classList.add(\"basicLightbox--img\"),!0===u&&t.classList.add(\"basicLightbox--video\"),!0===s&&t.classList.add(\"basicLightbox--iframe\"),t}(e=function(e){var n=\"string\"==typeof e,t=e instanceof HTMLElement==1;if(!1===n&&!1===t)throw new Error(\"Content must be a DOM element/node or string\");return!0===n?Array.from(o(e,!0)):\"TEMPLATE\"===e.tagName?[e.content.cloneNode(!0)]:Array.from(e.children)}(e),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==(e=Object.assign({},e)).closable&&(e.closable=!0),null==e.className&&(e.className=\"\"),null==e.onShow&&(e.onShow=function(){}),null==e.onClose&&(e.onClose=function(){}),\"boolean\"!=typeof e.closable)throw new Error(\"Property `closable` must be a boolean\");if(\"string\"!=typeof e.className)throw new Error(\"Property `className` must be a string\");if(\"function\"!=typeof e.onShow)throw new Error(\"Property `onShow` must be a function\");if(\"function\"!=typeof e.onClose)throw new Error(\"Property `onClose` must be a function\");return e}(n)),c=function(e){return!1!==n.onClose(u)&&function(e,n){return e.classList.remove(\"basicLightbox--visible\"),setTimeout((function(){return!1===i(e)||e.parentElement.removeChild(e),n()}),410),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))};!0===n.closable&&t.addEventListener(\"click\",(function(e){e.target===t&&c()}));var u={element:function(){return t},visible:function(){return i(t)},show:function(e){return!1!==n.onShow(u)&&function(e,n){return document.body.appendChild(e),setTimeout((function(){requestAnimationFrame((function(){return e.classList.add(\"basicLightbox--visible\"),n()}))}),10),!0}(t,(function(){if(\"function\"==typeof e)return e(u)}))},close:c};return u}},{}]},{},[1])(1)}));","/*!\n * FilePondPluginFileMetadata 1.0.8\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self),\n      (global.FilePondPluginFileMetadata = factory()));\n})(this, function() {\n  'use strict';\n\n  var plugin = function plugin(_ref) {\n    var addFilter = _ref.addFilter,\n      utils = _ref.utils;\n\n    // get quick reference to Type utils\n    var Type = utils.Type;\n\n    // setup attribute mapping for accept\n    addFilter('SET_ATTRIBUTE_TO_OPTION_MAP', function(map) {\n      return Object.assign(map, {\n        '^fileMetadata': {\n          group: 'fileMetadataObject'\n        }\n      });\n    });\n\n    addFilter('DID_LOAD_ITEM', function(item, _ref2) {\n      var query = _ref2.query;\n      return new Promise(function(resolve) {\n        if (!query('GET_ALLOW_FILE_METADATA')) {\n          return resolve(item);\n        }\n\n        // get default object and add as metadata\n        var data = query('GET_FILE_METADATA_OBJECT');\n        if (typeof data === 'object' && data !== null) {\n          Object.keys(data).forEach(function(key) {\n            item.setMetadata(key, data[key], true);\n          });\n        }\n\n        resolve(item);\n      });\n    });\n\n    return {\n      options: {\n        // Enable or disable file renaming\n        allowFileMetadata: [true, Type.BOOLEAN],\n\n        // A metadata object to add to all files\n        fileMetadataObject: [null, Type.OBJECT]\n      }\n    };\n  };\n\n  // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n  var isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  if (isBrowser) {\n    document.dispatchEvent(\n      new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n    );\n  }\n\n  return plugin;\n});\n","/*!\n * FilePond 4.31.1\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? factory(exports)\n        : typeof define === 'function' && define.amd\n        ? define(['exports'], factory)\n        : ((global = global || self), factory((global.FilePond = {})));\n})(this, function(exports) {\n    'use strict';\n\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n\n            return queue;\n        };\n\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n\n            // now dispatch these actions\n            queue.forEach(function(_ref) {\n                var type = _ref.type,\n                    data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data,\n            });\n        };\n\n        var query = function query(str) {\n            var _queryHandles;\n            for (\n                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query,\n        };\n\n        var queryHandles = {};\n        queries.forEach(function(query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n\n        var actionHandlers = {};\n        actions.forEach(function(action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n\n        return api;\n    };\n\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n\n            cb(key, obj[key]);\n        }\n    };\n\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function(property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            } else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function(name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n\n    var appendChild = function appendChild(parent) {\n        return function(child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            } else {\n                parent.appendChild(child);\n            }\n        };\n    };\n\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function(view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            } else {\n                childViews.push(view);\n            }\n\n            return view;\n        };\n    };\n\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function(view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n\n            return view;\n        };\n    };\n\n    var IS_BROWSER = (function() {\n        return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount =\n        'children' in testElement\n            ? function(el) {\n                  return el.children.length;\n              }\n            : function(el) {\n                  return el.childNodes.length;\n              };\n\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom,\n            },\n\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n            },\n        };\n\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function(childView) {\n                return !childView.isRectIgnored();\n            })\n            .map(function(childView) {\n                return childView.rect;\n            })\n            .forEach(function(childViewRect) {\n                expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n                expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n            });\n\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n\n        return rect;\n    };\n\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n    };\n\n    /**\n     * Spring animation\n     */\n    var spring =\n        // default options\n        function spring() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$stiffness = _ref.stiffness,\n                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n                _ref$damping = _ref.damping,\n                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n                _ref$mass = _ref.mass,\n                mass = _ref$mass === void 0 ? 10 : _ref$mass;\n            var target = null;\n            var position = null;\n            var velocity = 0;\n            var resting = false;\n\n            // updates spring state\n            var interpolate = function interpolate(ts, skipToEndState) {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                var f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            var setTarget = function setTarget(value) {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    set: setTarget,\n                    get: function get() {\n                        return target;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n\n    var tween =\n        // default values\n        function tween() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$duration = _ref.duration,\n                duration = _ref$duration === void 0 ? 500 : _ref$duration,\n                _ref$easing = _ref.easing,\n                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n                _ref$delay = _ref.delay,\n                delay = _ref$delay === void 0 ? 0 : _ref$delay;\n            var start = null;\n            var t;\n            var p;\n            var resting = true;\n            var reverse = false;\n            var target = null;\n\n            var interpolate = function interpolate(ts, skipToEndState) {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    get: function get() {\n                        return reverse ? 0 : target;\n                    },\n                    set: function set(value) {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var animator = {\n        spring: spring,\n        tween: tween,\n    };\n\n    /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def =\n            definition[category] && typeof definition[category][property] === 'object'\n                ? definition[category][property]\n                : definition[category] || definition;\n\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n\n        return animator[type] ? animator[type](props) : null;\n    };\n\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function(o) {\n            keys.forEach(function(key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n\n                if (o[name] && !overwrite) {\n                    return;\n                }\n\n                o[name] = {\n                    get: getter,\n                    set: setter,\n                };\n            });\n        });\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n\n        // list of all active animations\n        var animations = [];\n\n        // setup animators\n        forin(mixinConfig, function(property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n\n            // when the animator updates, update the view state value\n            animator.onupdate = function(value) {\n                viewProps[property] = value;\n            };\n\n            // set animator target\n            animator.target = initialProps[property];\n\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                },\n            };\n\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function(animation) {\n                    if (!animation.resting) resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var addEvent = function addEvent(element) {\n        return function(type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n\n    var removeEvent = function removeEvent(element) {\n        return function(type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            viewState = _ref.viewState,\n            view = _ref.view;\n        var events = [];\n\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n\n        viewExternalAPI.on = function(type, fn) {\n            events.push({\n                type: type,\n                fn: fn,\n            });\n\n            add(type, fn);\n        };\n\n        viewExternalAPI.off = function(type, fn) {\n            events.splice(\n                events.findIndex(function(event) {\n                    return event.type === type && event.fn === fn;\n                }),\n                1\n            );\n\n            remove(type, fn);\n        };\n\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function(event) {\n                    remove(event.type, event.fn);\n                });\n            },\n        };\n    };\n\n    // add to external api and link to props\n\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0,\n    };\n\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n\n        // current props\n        var currentProps = {};\n\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n\n        // apply view props\n        mixinConfig.forEach(function(key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n        });\n\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity,\n            perspective = _ref2.perspective,\n            translateX = _ref2.translateX,\n            translateY = _ref2.translateY,\n            scaleX = _ref2.scaleX,\n            scaleY = _ref2.scaleY,\n            rotateX = _ref2.rotateX,\n            rotateY = _ref2.rotateY,\n            rotateZ = _ref2.rotateZ,\n            originX = _ref2.originX,\n            originY = _ref2.originY,\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var transforms = '';\n        var styles = '';\n\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n        }\n\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                (isDefined(scaleX) ? scaleX : 1) +\n                ', ' +\n                (isDefined(scaleY) ? scaleY : 1) +\n                ', 1) ';\n        }\n\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis,\n    };\n\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n\n        rect.scrollTop = element.scrollTop;\n\n        rect.hidden = element.offsetParent === null;\n\n        return rect;\n    };\n\n    var createView =\n        // default view definition\n        function createView() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$tag = _ref.tag,\n                tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n                _ref$name = _ref.name,\n                name = _ref$name === void 0 ? null : _ref$name,\n                _ref$attributes = _ref.attributes,\n                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n                _ref$read = _ref.read,\n                read = _ref$read === void 0 ? function() {} : _ref$read,\n                _ref$write = _ref.write,\n                write = _ref$write === void 0 ? function() {} : _ref$write,\n                _ref$create = _ref.create,\n                create = _ref$create === void 0 ? function() {} : _ref$create,\n                _ref$destroy = _ref.destroy,\n                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,\n                _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n                filterFrameActionsForChild =\n                    _ref$filterFrameActio === void 0\n                        ? function(child, actions) {\n                              return actions;\n                          }\n                        : _ref$filterFrameActio,\n                _ref$didCreateView = _ref.didCreateView,\n                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,\n                _ref$didWriteView = _ref.didWriteView,\n                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,\n                _ref$ignoreRect = _ref.ignoreRect,\n                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n                _ref$mixins = _ref.mixins,\n                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n            return function(\n                // each view requires reference to store\n                store\n            ) {\n                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                // root element should not be changed\n                var element = createElement(tag, 'filepond--' + name, attributes);\n\n                // style reference should also not be changed\n                var style = window.getComputedStyle(element, null);\n\n                // element rectangle\n                var rect = updateRect();\n                var frameRect = null;\n\n                // rest state\n                var isResting = false;\n\n                // pretty self explanatory\n                var childViews = [];\n\n                // loaded mixins\n                var activeMixins = [];\n\n                // references to created children\n                var ref = {};\n\n                // state used for each instance\n                var state = {};\n\n                // list of writers that will be called to update this view\n                var writers = [\n                    write, // default writer\n                ];\n\n                var readers = [\n                    read, // default reader\n                ];\n\n                var destroyers = [\n                    destroy, // default destroy\n                ];\n\n                // core view methods\n                var getElement = function getElement() {\n                    return element;\n                };\n                var getChildViews = function getChildViews() {\n                    return childViews.concat();\n                };\n                var getReference = function getReference() {\n                    return ref;\n                };\n                var createChildView = function createChildView(store) {\n                    return function(view, props) {\n                        return view(store, props);\n                    };\n                };\n                var getRect = function getRect() {\n                    if (frameRect) {\n                        return frameRect;\n                    }\n                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                    return frameRect;\n                };\n                var getStyle = function getStyle() {\n                    return style;\n                };\n\n                /**\n                 * Read data from DOM\n                 * @private\n                 */\n                var _read = function _read() {\n                    frameRect = null;\n\n                    // read child views\n                    childViews.forEach(function(child) {\n                        return child._read();\n                    });\n\n                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                    if (shouldUpdate) {\n                        updateRect(rect, element, style);\n                    }\n\n                    // readers\n                    var api = { root: internalAPI, props: props, rect: rect };\n                    readers.forEach(function(reader) {\n                        return reader(api);\n                    });\n                };\n\n                /**\n                 * Write data to DOM\n                 * @private\n                 */\n                var _write = function _write(ts, frameActions, shouldOptimize) {\n                    // if no actions, we assume that the view is resting\n                    var resting = frameActions.length === 0;\n\n                    // writers\n                    writers.forEach(function(writer) {\n                        var writerResting = writer({\n                            props: props,\n                            root: internalAPI,\n                            actions: frameActions,\n                            timestamp: ts,\n                            shouldOptimize: shouldOptimize,\n                        });\n\n                        if (writerResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // run mixins\n                    activeMixins.forEach(function(mixin) {\n                        // if one of the mixins is still busy after write operation, we are not resting\n                        var mixinResting = mixin.write(ts);\n                        if (mixinResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // updates child views that are currently attached to the DOM\n                    childViews\n                        .filter(function(child) {\n                            return !!child.element.parentNode;\n                        })\n                        .forEach(function(child) {\n                            // if a child view is not resting, we are not resting\n                            var childResting = child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            if (!childResting) {\n                                resting = false;\n                            }\n                        });\n\n                    // append new elements to DOM and update those\n                    childViews\n                        //.filter(child => !child.element.parentNode)\n                        .forEach(function(child, index) {\n                            // skip\n                            if (child.element.parentNode) {\n                                return;\n                            }\n\n                            // append to DOM\n                            internalAPI.appendChild(child.element, index);\n\n                            // call read (need to know the size of these elements)\n                            child._read();\n\n                            // re-call write\n                            child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            // we just added somthing to the dom, no rest\n                            resting = false;\n                        });\n\n                    // update resting state\n                    isResting = resting;\n\n                    didWriteView({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                    });\n\n                    // let parent know if we are resting\n                    return resting;\n                };\n\n                var _destroy = function _destroy() {\n                    activeMixins.forEach(function(mixin) {\n                        return mixin.destroy();\n                    });\n                    destroyers.forEach(function(destroyer) {\n                        destroyer({ root: internalAPI, props: props });\n                    });\n                    childViews.forEach(function(child) {\n                        return child._destroy();\n                    });\n                };\n\n                // sharedAPI\n                var sharedAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    style: {\n                        get: getStyle,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n                };\n\n                // private API definition\n                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: getRect,\n                    },\n\n                    // access to custom children references\n                    ref: {\n                        get: getReference,\n                    },\n\n                    // dom modifiers\n                    is: function is(needle) {\n                        return name === needle;\n                    },\n                    appendChild: appendChild(element),\n                    createChildView: createChildView(store),\n                    linkView: function linkView(view) {\n                        childViews.push(view);\n                        return view;\n                    },\n                    unlinkView: function unlinkView(view) {\n                        childViews.splice(childViews.indexOf(view), 1);\n                    },\n                    appendChildView: appendChildView(element, childViews),\n                    removeChildView: removeChildView(element, childViews),\n                    registerWriter: function registerWriter(writer) {\n                        return writers.push(writer);\n                    },\n                    registerReader: function registerReader(reader) {\n                        return readers.push(reader);\n                    },\n                    registerDestroyer: function registerDestroyer(destroyer) {\n                        return destroyers.push(destroyer);\n                    },\n                    invalidateLayout: function invalidateLayout() {\n                        return (element.layoutCalculated = false);\n                    },\n\n                    // access to data store\n                    dispatch: store.dispatch,\n                    query: store.query,\n                });\n\n                // public view API methods\n                var externalAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n\n                    rect: {\n                        get: getRect,\n                    },\n\n                    resting: {\n                        get: function get() {\n                            return isResting;\n                        },\n                    },\n\n                    isRectIgnored: function isRectIgnored() {\n                        return ignoreRect;\n                    },\n                    _read: _read,\n                    _write: _write,\n                    _destroy: _destroy,\n                };\n\n                // mixin API methods\n                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: function get() {\n                            return rect;\n                        },\n                    },\n                });\n\n                // add mixin functionality\n                Object.keys(mixins)\n                    .sort(function(a, b) {\n                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                        if (a === 'styles') {\n                            return 1;\n                        } else if (b === 'styles') {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                    .forEach(function(key) {\n                        var mixinAPI = Mixins[key]({\n                            mixinConfig: mixins[key],\n                            viewProps: props,\n                            viewState: state,\n                            viewInternalAPI: internalAPIDefinition,\n                            viewExternalAPI: externalAPIDefinition,\n                            view: createObject(mixinAPIDefinition),\n                        });\n\n                        if (mixinAPI) {\n                            activeMixins.push(mixinAPI);\n                        }\n                    });\n\n                // construct private api\n                var internalAPI = createObject(internalAPIDefinition);\n\n                // create the view\n                create({\n                    root: internalAPI,\n                    props: props,\n                });\n\n                // append created child views to root node\n                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n                childViews.forEach(function(child, index) {\n                    internalAPI.appendChild(child.element, childCount + index);\n                });\n\n                // call did create\n                didCreateView(internalAPI);\n\n                // expose public api\n                return createObject(externalAPIDefinition);\n            };\n        };\n\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n        var name = '__framePainter';\n\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n\n        window[name] = {\n            readers: [read],\n            writers: [write],\n        };\n\n        var painter = window[name];\n\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function() {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            } else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n\n        document.addEventListener('visibilitychange', function() {\n            if (cancelTick) cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n\n            var delta = ts - last;\n\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n\n            // align next frame\n            last = ts - (delta % interval);\n\n            // update view\n            painter.readers.forEach(function(read) {\n                return read();\n            });\n            painter.writers.forEach(function(write) {\n                return write(ts);\n            });\n        };\n\n        setTimerType();\n        tick(performance.now());\n\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            },\n        };\n    };\n\n    var createRoute = function createRoute(routes, fn) {\n        return function(_ref) {\n            var root = _ref.root,\n                props = _ref.props,\n                _ref$actions = _ref.actions,\n                actions = _ref$actions === void 0 ? [] : _ref$actions,\n                timestamp = _ref.timestamp,\n                shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function(action) {\n                    return routes[action.type];\n                })\n                .forEach(function(action) {\n                    return routes[action.type]({\n                        root: root,\n                        props: props,\n                        action: action.data,\n                        timestamp: timestamp,\n                        shouldOptimize: shouldOptimize,\n                    });\n                });\n\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize,\n                });\n            }\n        };\n    };\n\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n\n    var trim = function trim(str) {\n        return str.trim();\n    };\n\n    var toString = function toString(value) {\n        return '' + value;\n    };\n\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function(str) {\n                return str.length;\n            });\n    };\n\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n            ? toString(value).replace(/[a-z]+/gi, '')\n            : 0;\n    };\n\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n\n        return toInt(naturalFileSize);\n    };\n\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET',\n    };\n\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n\n        forin(methods, function(key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n\n        // remove process if no url or process on outline\n        api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n        // special treatment for remove\n        api.remove = outline.remove || null;\n\n        // remove generic headers from api object\n        delete api.headers;\n\n        return api;\n    };\n\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null,\n        };\n\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n\n        // overwrite\n        Object.assign(action, outline);\n\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1],\n            };\n        }\n\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n\n        return action;\n    };\n\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n\n    var isAPI = function isAPI(value) {\n        return (\n            isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch)\n        );\n    };\n\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n\n        if (isNull(value)) {\n            return 'null';\n        }\n\n        if (isInt(value)) {\n            return 'int';\n        }\n\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n\n        if (isAPI(value)) {\n            return 'api';\n        }\n\n        return typeof value;\n    };\n\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            } catch (e) {\n                return null;\n            }\n        },\n    };\n\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n\n        // get the type of the new value\n        var newValueType = getType(newValue);\n\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n\n            // what is the type now\n            newValueType = getType(convertedValue);\n\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            } else {\n                newValue = convertedValue;\n            }\n        }\n\n        // assign new value\n        return newValue;\n    };\n\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            },\n        };\n    };\n\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function(prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n\n            // queue of items waiting to be processed\n            processingQueue: [],\n\n            // options\n            options: createOptions(options),\n        };\n    };\n\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function(part) {\n                return part.toLowerCase();\n            })\n            .join(separator);\n    };\n\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function(key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value,\n                    });\n                },\n            };\n        });\n        return obj;\n    };\n\n    var createOptionActions = function createOptionActions(options) {\n        return function(dispatch, query, state) {\n            var obj = {};\n            forin(options, function(key) {\n                var name = fromCamels(key, '_').toUpperCase();\n\n                obj['SET_' + name] = function(action) {\n                    try {\n                        state.options[key] = action.value;\n                    } catch (e) {} // nope, failed\n\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n\n    var createOptionQueries = function createOptionQueries(options) {\n        return function(state) {\n            var obj = {};\n            forin(options, function(key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5,\n    };\n\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substring(2, 11);\n    };\n\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function(obj) {\n                return typeof obj;\n            };\n        } else {\n            _typeof = function(obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n\n        return _typeof(obj);\n    }\n\n    var REACT_ELEMENT_TYPE;\n\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||\n                0xeac7;\n        }\n\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0,\n            };\n        }\n\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        } else if (!props) {\n            props = defaultProps || {};\n        }\n\n        if (childrenLength === 1) {\n            props.children = children;\n        } else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n\n            props.children = childArray;\n        }\n\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null,\n        };\n    }\n\n    function _asyncIterator(iterable) {\n        var method;\n\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null) return method.call(iterable);\n            }\n\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null) return method.call(iterable);\n            }\n        }\n\n        throw new TypeError('Object is not async iterable');\n    }\n\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n\n    function _AsyncGenerator(gen) {\n        var front, back;\n\n        function send(key, arg) {\n            return new Promise(function(resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null,\n                };\n\n                if (back) {\n                    back = back.next = request;\n                } else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n                    function(arg) {\n                        if (wrappedAwait) {\n                            resume('next', arg);\n                            return;\n                        }\n\n                        settle(result.done ? 'return' : 'normal', arg);\n                    },\n                    function(err) {\n                        resume('throw', err);\n                    }\n                );\n            } catch (err) {\n                settle('throw', err);\n            }\n        }\n\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true,\n                    });\n                    break;\n\n                case 'throw':\n                    front.reject(value);\n                    break;\n\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false,\n                    });\n                    break;\n            }\n\n            front = front.next;\n\n            if (front) {\n                resume(front.key, front.arg);\n            } else {\n                back = null;\n            }\n        }\n\n        this._invoke = send;\n\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n            return this;\n        };\n    }\n\n    _AsyncGenerator.prototype.next = function(arg) {\n        return this._invoke('next', arg);\n    };\n\n    _AsyncGenerator.prototype.throw = function(arg) {\n        return this._invoke('throw', arg);\n    };\n\n    _AsyncGenerator.prototype.return = function(arg) {\n        return this._invoke('return', arg);\n    };\n\n    function _wrapAsyncGenerator(fn) {\n        return function() {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {},\n            waiting = false;\n\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function(resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value),\n            };\n        }\n\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function() {\n                return this;\n            };\n        }\n\n        iter.next = function(value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n\n            return pump('next', value);\n        };\n\n        if (typeof inner.throw === 'function') {\n            iter.throw = function(value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n\n                return pump('throw', value);\n            };\n        }\n\n        if (typeof inner.return === 'function') {\n            iter.return = function(value) {\n                return pump('return', value);\n            };\n        }\n\n        return iter;\n    }\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc) desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc) desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true,\n            });\n        } else {\n            obj[key] = value;\n        }\n\n        return obj;\n    }\n\n    function _extends() {\n        _extends =\n            Object.assign ||\n            function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n\n                    for (var key in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, key)) {\n                            target[key] = source[key];\n                        }\n                    }\n                }\n\n                return target;\n            };\n\n        return _extends.apply(this, arguments);\n    }\n\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(\n                    Object.getOwnPropertySymbols(source).filter(function(sym) {\n                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                    })\n                );\n            }\n\n            ownKeys.forEach(function(key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n\n        return target;\n    }\n\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n\n        return keys;\n    }\n\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n\n            if (i % 2) {\n                ownKeys(source, true).forEach(function(key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            } else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            } else {\n                ownKeys(source).forEach(function(key) {\n                    Object.defineProperty(\n                        target,\n                        key,\n                        Object.getOwnPropertyDescriptor(source, key)\n                    );\n                });\n            }\n        }\n\n        return target;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true,\n            },\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                  return o.__proto__ || Object.getPrototypeOf(o);\n              };\n        return _getPrototypeOf(o);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n            function _setPrototypeOf(o, p) {\n                o.__proto__ = p;\n                return o;\n            };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === 'function') return true;\n\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        } else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class) _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n\n        return _construct.apply(null, arguments);\n    }\n\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class)) return Class;\n\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class)) return _cache.get(Class);\n\n                _cache.set(Class, Wrapper);\n            }\n\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true,\n                },\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n\n        return _wrapNativeSuper(Class);\n    }\n\n    function _instanceof(left, right) {\n        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        } else {\n            return left instanceof right;\n        }\n    }\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                  default: obj,\n              };\n    }\n\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        } else {\n            var newObj = {};\n\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc =\n                            Object.defineProperty && Object.getOwnPropertyDescriptor\n                                ? Object.getOwnPropertyDescriptor(obj, key)\n                                : {};\n\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        } else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null) throw new TypeError('Cannot destructure undefined');\n    }\n\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            target[key] = source[key];\n        }\n\n        return target;\n    }\n\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0) continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n                target[key] = source[key];\n            }\n        }\n\n        return target;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n\n        return _assertThisInitialized(self);\n    }\n\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null) break;\n        }\n\n        return object;\n    }\n\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        } else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n\n                if (!base) return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n\n                return desc.value;\n            };\n        }\n\n        return _get(target, property, receiver || target);\n    }\n\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        } else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n\n                var desc;\n\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    } else if (!desc.writable) {\n                        return false;\n                    }\n                }\n\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                } else {\n                    _defineProperty(receiver, property, value);\n                }\n\n                return true;\n            };\n        }\n\n        return set(target, property, value, receiver);\n    }\n\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n\n        return value;\n    }\n\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        return Object.freeze(\n            Object.defineProperties(strings, {\n                raw: {\n                    value: Object.freeze(raw),\n                },\n            })\n        );\n    }\n\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        strings.raw = raw;\n        return strings;\n    }\n\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        } else {\n            return val;\n        }\n    }\n\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n\n    var _temporalUndefined = {};\n\n    function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n    }\n\n    function _slicedToArrayLoose(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n    }\n\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n\n    function _toConsumableArray(arr) {\n        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n            return arr2;\n        }\n    }\n\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n    }\n\n    function _iterableToArray(iter) {\n        if (\n            Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]'\n        )\n            return Array.from(iter);\n    }\n\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;\n            _e = err;\n        } finally {\n            try {\n                if (!_n && _i['return'] != null) _i['return']();\n            } finally {\n                if (_d) throw _e;\n            }\n        }\n\n        return _arr;\n    }\n\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {\n            _arr.push(_step.value);\n\n            if (i && _arr.length === i) break;\n        }\n\n        return _arr;\n    }\n\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n\n    function _skipFirstGeneratorNext(fn) {\n        return function() {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null) return input;\n        var prim = input[Symbol.toPrimitive];\n\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object') return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n\n        return (hint === 'string' ? String : Number)(input);\n    }\n\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n\n        return typeof key === 'symbol' ? key : String(key);\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error(\n            'Decorating class property failed. Please ensure that ' +\n                'proposal-class-properties is enabled and set to use loose mode. ' +\n                'To use proposal-class-properties in spec mode with decorators, wait for ' +\n                'the next major version of decorators in stage 2.'\n        );\n    }\n\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function(desc, decorator) {\n                return decorator(target, property, desc) || desc;\n            }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    var id = 0;\n\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n\n        return receiver;\n    }\n\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n\n        return descriptor.value;\n    }\n\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            descriptor.value = value;\n        }\n\n        return value;\n    }\n\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        var descriptor = privateMap.get(receiver);\n\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    },\n                };\n            }\n\n            return descriptor.__destrObj;\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            return descriptor;\n        }\n    }\n\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return descriptor.value;\n    }\n\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n\n        descriptor.value = value;\n        return value;\n    }\n\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return method;\n    }\n\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(\n            _coalesceClassElements(r.d.map(_createElementDescriptor)),\n            decorators\n        );\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function() {\n            return api;\n        };\n\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function(O, elements) {\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function(F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        var placement = element.placement;\n\n                        if (\n                            element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')\n                        ) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function(receiver, element) {\n                var descriptor = element.descriptor;\n\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver),\n                    };\n                }\n\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function(elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: [],\n                };\n                elements.forEach(function(element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function(element) {\n                    if (!_hasDecorators(element)) return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers,\n                    };\n                }\n\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function(element, placements, silent) {\n                var keys = placements[element.placement];\n\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n\n                keys.push(element.key);\n            },\n            decorateElement: function(element, placements) {\n                var extras = [];\n                var finishers = [];\n\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras(\n                        (0, decorators[i])(elementObject) || elementObject\n                    );\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n\n                    var newExtras = elementFinisherExtras.extras;\n\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras,\n                };\n            },\n            decorateConstructor: function(elements, decorators) {\n                var finishers = [];\n\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor(\n                        (0, decorators[i])(obj) || obj\n                    );\n\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (\n                                    elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement\n                                ) {\n                                    throw new TypeError(\n                                        'Duplicated element (' + elements[j].key + ')'\n                                    );\n                                }\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    elements: elements,\n                    finishers: finishers,\n                };\n            },\n            fromElementDescriptor: function(element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor,\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field') obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function(elementObjects) {\n                if (elementObjects === undefined) return;\n                return _toArray(elementObjects).map(function(elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function(elementObject) {\n                var kind = String(elementObject.kind);\n\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .kind property must be either \"method\" or' +\n                            ' \"field\", but a decorator created an element descriptor with' +\n                            ' .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                var key = _toPropertyKey(elementObject.key);\n\n                var placement = String(elementObject.placement);\n\n                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .placement property must be one of \"static\",' +\n                            ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                            ' with .placement \"' +\n                            placement +\n                            '\"'\n                    );\n                }\n\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor),\n                };\n\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                } else {\n                    this.disallowProperty(\n                        descriptor,\n                        'get',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'set',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'value',\n                        'The property descriptor of a field descriptor'\n                    );\n                    element.initializer = elementObject.initializer;\n                }\n\n                return element;\n            },\n            toElementFinisherExtras: function(elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras,\n                };\n            },\n            fromClassDescriptor: function(elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this),\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function(obj) {\n                var kind = String(obj.kind);\n\n                if (kind !== 'class') {\n                    throw new TypeError(\n                        'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                            ' created a class descriptor with .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher,\n                };\n            },\n            runClassFinishers: function(constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n\n                        constructor = newConstructor;\n                    }\n                }\n\n                return constructor;\n            },\n            disallowProperty: function(obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            },\n        };\n        return api;\n    }\n\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n\n        var descriptor;\n\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true,\n            };\n        }\n\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n            descriptor: descriptor,\n        };\n        if (def.decorators) element.decorators = def.decorators;\n        if (def.kind === 'field') element.initializer = def.value;\n        return element;\n    }\n\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        } else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n\n        var isSameElement = function(other) {\n            return (\n                other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement\n            );\n        };\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n\n            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError(\n                            'Duplicated methods (' + element.key + \") can't be decorated.\"\n                        );\n                    }\n\n                    other.descriptor = element.descriptor;\n                } else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\n                                \"Decorators can't be placed on different accessors with for \" +\n                                    'the same property (' +\n                                    element.key +\n                                    ').'\n                            );\n                        }\n\n                        other.decorators = element.decorators;\n                    }\n\n                    _coalesceGetterSetter(element, other);\n                }\n            } else {\n                newElements.push(element);\n            }\n        }\n\n        return newElements;\n    }\n\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n\n    function _isDataDescriptor(desc) {\n        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n    }\n\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n\n        return value;\n    }\n\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        return fn;\n    }\n\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function(re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n\n        var _RegExp = _wrapNativeSuper(RegExp);\n\n        var _super = RegExp.prototype;\n\n        var _groups = new WeakMap();\n\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n\n            _groups.set(_this, groups);\n\n            return _this;\n        }\n\n        _inherits(BabelRegExp, _RegExp);\n\n        BabelRegExp.prototype.exec = function(str) {\n            var result = _super.exec.call(this, str);\n\n            if (result) result.groups = buildGroups(result, this);\n            return result;\n        };\n\n        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n\n                return _super[Symbol.replace].call(\n                    this,\n                    str,\n                    substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n                        return '$' + groups[name];\n                    })\n                );\n            } else if (typeof substitution === 'function') {\n                var _this = this;\n\n                return _super[Symbol.replace].call(this, str, function() {\n                    var args = [];\n                    args.push.apply(args, arguments);\n\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n\n                    return substitution.apply(this, args);\n                });\n            } else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n\n            return Object.keys(g).reduce(function(groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n\n        return _wrapRegExp.apply(this, arguments);\n    }\n\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        } else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        } else {\n            setTimeout(cb, 0);\n        }\n    };\n\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(\n                listeners,\n                listeners.findIndex(function(listener) {\n                    return listener.event === event && (listener.cb === cb || !cb);\n                })\n            );\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function(listener) {\n                    return listener.event === event;\n                })\n                .map(function(listener) {\n                    return listener.cb;\n                })\n                .forEach(function(cb) {\n                    return run(function() {\n                        return cb.apply(void 0, _toConsumableArray(args));\n                    }, sync);\n                });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (\n                    var _len = arguments.length,\n                        args = new Array(_len > 1 ? _len - 1 : 0),\n                        _key = 1;\n                    _key < _len;\n                    _key++\n                ) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (\n                    var _len2 = arguments.length,\n                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),\n                        _key2 = 1;\n                    _key2 < _len2;\n                    _key2++\n                ) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    },\n                });\n            },\n            off: off,\n        };\n    };\n\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(\n        src,\n        target,\n        excluded\n    ) {\n        Object.getOwnPropertyNames(src)\n            .filter(function(property) {\n                return !excluded.includes(property);\n            })\n            .forEach(function(key) {\n                return Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(src, key)\n                );\n            });\n    };\n\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze',\n    ];\n\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function(item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8,\n    };\n\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3,\n    };\n\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex',\n    };\n\n    // all registered filters\n    var filters = [];\n\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function(resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function(f) {\n                    return f.key === key;\n                })\n                .map(function(f) {\n                    return f.cb;\n                });\n\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n\n            // chain filters\n            matchingFilters\n                .reduce(\n                    // loop over promises passing value to next promise\n                    function(current, next) {\n                        return current.then(function(value) {\n                            return next(value, utils);\n                        });\n                    },\n\n                    // call initial filter, will return a promise\n                    initialFilter(value, utils)\n\n                    // all executed\n                )\n                .then(function(value) {\n                    return resolve(value);\n                })\n                .catch(function(error) {\n                    return reject(error);\n                });\n        });\n    };\n\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function(f) {\n                return f.key === key;\n            })\n            .map(function(f) {\n                return f.cb(value, utils);\n            });\n    };\n\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n\n    var setOptions = function setOptions(opts) {\n        forin(opts, function(key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(\n                value,\n                defaultOptions[key][0],\n                defaultOptions[key][1]\n            );\n        });\n    };\n\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n\n        // input field name to use\n        name: ['filepond', Type.STRING],\n\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n\n        // is the field required\n        required: [false, Type.BOOLEAN],\n\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n        allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n        // Try store file if `server` not set\n        storeAsFile: [false, Type.BOOLEAN],\n\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n        // Input requirements\n        maxFiles: [null, Type.INT], // Max number of files\n        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n        itemInsertInterval: [75, Type.INT],\n\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n\n        // Labels and status messages\n        labelFileSizeBytes: ['bytes', Type.STRING],\n        labelFileSizeKilobytes: ['KB', Type.STRING],\n        labelFileSizeMegabytes: ['MB', Type.STRING],\n        labelFileSizeGigabytes: ['GB', Type.STRING],\n\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING,\n        ],\n\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING], // assistive only\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING], // assistive only\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n\n        // styles\n        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n        // custom initial files array\n        files: [[], Type.ARRAY],\n\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n    };\n\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n\n        // assume query is a string and return item by id\n        return (\n            items.find(function(item) {\n                return item.id === query;\n            }) || null\n        );\n    };\n\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function(item) {\n            return !item.archived;\n        });\n    };\n\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1, // waiting\n        ERROR: 2, // a file is in error state\n        BUSY: 3, // busy processing or loading\n        READY: 4, // all files uploaded\n    };\n\n    var res = null;\n    var canUpdateFileInput = function canUpdateFileInput() {\n        if (res === null) {\n            try {\n                var dataTransfer = new DataTransfer();\n                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n                var el = document.createElement('input');\n                el.setAttribute('type', 'file');\n                el.files = dataTransfer.files;\n                res = el.files.length === 1;\n            } catch (err) {\n                res = false;\n            }\n        }\n        return res;\n    };\n\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR,\n    ];\n\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT,\n    ];\n\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n\n    var isAsync = function isAsync(state) {\n        return (\n            isObject(state.options.server) &&\n            (isObject(state.options.server.process) || isFunction(state.options.server.process))\n        );\n    };\n\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY,\n                    ERROR = Status.ERROR,\n                    BUSY = Status.BUSY,\n                    IDLE = Status.IDLE,\n                    READY = Status.READY;\n\n                if (items.length === 0) return EMPTY;\n\n                if (items.some(isItemInErrorState)) return ERROR;\n\n                if (items.some(isItemInBusyState)) return BUSY;\n\n                if (items.some(isItemInReadyState)) return READY;\n\n                return IDLE;\n            },\n\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function(key) {\n                        return /^style/.test(key);\n                    })\n                    .map(function(option) {\n                        return {\n                            name: option,\n                            value: state.options[option],\n                        };\n                    });\n            },\n\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function(item) {\n                    return item.status === status;\n                });\n            },\n\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n\n            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {\n                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);\n            },\n\n            IS_ASYNC: function IS_ASYNC() {\n                return isAsync(state);\n            },\n\n            GET_FILE_SIZE_LABELS: function GET_FILE_SIZE_LABELS(query) {\n                return {\n                    labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,\n                    labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,\n                    labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,\n                    labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,\n                };\n            },\n        };\n    };\n\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n\n        // no more room for another file\n        return false;\n    };\n\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n\n        // add item to array\n        arrayInsert(items, index, item);\n\n        // expose\n        return item;\n    };\n\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n            str\n        );\n    };\n\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return ('' + url)\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n\n        // get subtype\n        var subtype = type.split('/').pop();\n\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n\n            // return subtype\n            return subtype;\n        }\n\n        return '';\n    };\n\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n        return (\n            date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00')\n        );\n    };\n\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file =\n            typeof type === 'string'\n                ? blob.slice(0, blob.size, type)\n                : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n\n        // copy relative path\n        if (blob._relativePath) file._relativePath = blob._relativePath;\n\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        } else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n\n        return file;\n    };\n\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n    };\n\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n\n        return new Blob([arrayBuffer], {\n            type: mimeType,\n        });\n    };\n\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(\n        byteString,\n        mimeType\n    ) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        return createBlob(ab, mimeType);\n    };\n\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header)) return null;\n\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function(name) {\n                return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n            })\n            .filter(function(name) {\n                return name.length;\n            });\n\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null,\n        };\n\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (\n                var _iterator = rows[Symbol.iterator](), _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                var header = _step.value;\n\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return info;\n    };\n\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null,\n        };\n\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n\n            api.fire('init', source);\n\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            } else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            } else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            } else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400,\n                });\n\n                return;\n            }\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // load file\n            state.request = fetchFn(\n                url,\n                function(response) {\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // done!\n                    state.complete = true;\n\n                    // turn blob response into a file\n                    if (response instanceof Blob) {\n                        response = getFileFromBlob(\n                            response,\n                            response.name || getFilenameFromURL(url)\n                        );\n                    }\n\n                    api.fire(\n                        'load',\n                        // if has received blob, we go with blob, if no response, we return null\n                        response instanceof Blob ? response : response ? response.body : null\n                    );\n                },\n                function(error) {\n                    api.fire(\n                        'error',\n                        typeof error === 'string'\n                            ? {\n                                  type: 'error',\n                                  code: 0,\n                                  body: error,\n                              }\n                            : error\n                    );\n                },\n                function(computable, current, total) {\n                    // collected some meta data already\n                    if (total) {\n                        state.size = total;\n                    }\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // if we can't compute progress, we're not going to fire progress events\n                    if (!computable) {\n                        state.progress = null;\n                        return;\n                    }\n\n                    // update progress percentage\n                    state.progress = current / total;\n\n                    // expose\n                    api.fire('progress', state.progress);\n                },\n                function() {\n                    api.fire('abort');\n                },\n                function(response) {\n                    var fileinfo = getFileInfoFromHeaders(\n                        typeof response === 'string' ? response : response.headers\n                    );\n                    api.fire('meta', {\n                        size: state.size || fileinfo.size,\n                        filename: fileinfo.name,\n                        source: fileinfo.source,\n                    });\n                }\n            );\n        };\n\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress, // file load progress\n            abort: abort, // abort file load\n            load: load, // start load\n        });\n\n        return api;\n    };\n\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() {},\n            onprogress: function onprogress() {},\n            onload: function onload() {},\n            ontimeout: function ontimeout() {},\n            onerror: function onerror() {},\n            onabort: function onabort() {},\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            },\n        };\n\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n\n        // set default options\n        options = Object.assign(\n            {\n                method: 'POST',\n                headers: {},\n                withCredentials: false,\n            },\n            options\n        );\n\n        // encode url\n        url = encodeURI(url);\n\n        // if method is GET, add any received data to url\n\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                url +\n                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n\n        // create request\n        var xhr = new XMLHttpRequest();\n\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function(e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function() {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n\n            if (headersReceived) {\n                return;\n            }\n\n            headersReceived = true;\n\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n\n        // load successful\n        xhr.onload = function() {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            } else {\n                api.onerror(xhr);\n            }\n        };\n\n        // error during load\n        xhr.onerror = function() {\n            return api.onerror(xhr);\n        };\n\n        // request aborted\n        xhr.onabort = function() {\n            aborted = true;\n            api.onabort();\n        };\n\n        // request timeout\n        xhr.ontimeout = function() {\n            return api.ontimeout(xhr);\n        };\n\n        // open up open up!\n        xhr.open(options.method, url, true);\n\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n\n        // add headers\n        Object.keys(options.headers).forEach(function(key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        // let's send our data\n        xhr.send(data);\n\n        return api;\n    };\n\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers,\n        };\n    };\n\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function(xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function(part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal handler\n        return function(url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(\n                url,\n                buildURL(apiUrl, action.url),\n                Object.assign({}, action, {\n                    responseType: 'blob',\n                })\n            );\n\n            request.onload = function(xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n                // create response\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        action.method === 'HEAD'\n                            ? null\n                            : getFileFromBlob(onload(xhr.response), filename),\n                        headers\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onheaders = function(xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4,\n    };\n\n    /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(\n        apiUrl,\n        action,\n        name,\n        file,\n        metadata,\n        load,\n        error,\n        progress,\n        abort,\n        transfer,\n        options\n    ) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId,\n            chunkServer = options.chunkServer,\n            chunkSize = options.chunkSize,\n            chunkRetryDelays = options.chunkRetryDelays;\n\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false,\n        };\n\n        // set onload handlers\n        var ondata =\n            action.ondata ||\n            function(fd) {\n                return fd;\n            };\n        var onload =\n            action.onload ||\n            function(xhr, method) {\n                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata)\n                    : Object.assign({}, action.headers, {\n                          'Upload-Length': file.size,\n                      });\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(state.serverId)\n                    : Object.assign({}, action.headers);\n\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD',\n            };\n\n            var request = sendRequest(null, requestUrl, requestParams);\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null,\n            };\n        }\n\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n        };\n\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted) return;\n\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (\n                    chunks.every(function(chunk) {\n                        return chunk.status === ChunkStatus.COMPLETE;\n                    })\n                ) {\n                    completeProcessingChunks();\n                }\n\n                // no chunk to handle\n                return;\n            }\n\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n\n            // allow parsing of formdata\n            var ondata =\n                chunkServer.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onerror =\n                chunkServer.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof chunkServer.headers === 'function'\n                    ? chunkServer.headers(chunk)\n                    : Object.assign({}, chunkServer.headers, {\n                          'Content-Type': 'application/offset+octet-stream',\n                          'Upload-Offset': chunk.offset,\n                          'Upload-Length': file.size,\n                          'Upload-Name': file.name,\n                      });\n\n            var request = (chunk.request = sendRequest(\n                ondata(chunk.data),\n                requestUrl,\n                Object.assign({}, chunkServer, {\n                    headers: headers,\n                })\n            ));\n\n            request.onload = function() {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n\n                // remove request reference\n                chunk.request = null;\n\n                // start processing more chunks\n                processChunks();\n            };\n\n            request.onprogress = function(lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n\n            request.onerror = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(\n                        createResponse(\n                            'error',\n                            xhr.status,\n                            onerror(xhr.response) || xhr.statusText,\n                            xhr.getAllResponseHeaders()\n                        )\n                    );\n                }\n            };\n\n            request.ontimeout = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n\n            request.onabort = function() {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0) return false;\n\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function() {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n\n            // we're going to retry\n            return true;\n        };\n\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function(p, chunk) {\n                if (p === null || chunk.progress === null) return null;\n                return p + chunk.progress;\n            }, 0);\n\n            // can't compute progress\n            if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n            // calculate progress values\n            var totalSize = chunks.reduce(function(total, chunk) {\n                return total + chunk.size;\n            }, 0);\n\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function(chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1) return;\n            processChunk();\n        };\n\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function(chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function(serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        } else {\n            requestTransferOffset(function(offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function(chunk) {\n                        return chunk.offset < offset;\n                    })\n                    .forEach(function(chunk) {\n                        chunk.status = ChunkStatus.COMPLETE;\n                        chunk.progress = chunk.size;\n                    });\n\n                // continue processing\n                processChunks();\n            });\n        }\n\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            },\n        };\n    };\n\n    /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n    var createFileProcessorFunction = function createFileProcessorFunction(\n        apiUrl,\n        action,\n        name,\n        options\n    ) {\n        return function(file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file) return;\n\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(\n                    apiUrl,\n                    action,\n                    name,\n                    file,\n                    metadata,\n                    load,\n                    error,\n                    progress,\n                    abort,\n                    transfer,\n                    options\n                );\n\n            // set handlers\n            var ondata =\n                action.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onload =\n                action.onload ||\n                function(res) {\n                    return res;\n                };\n            var onerror =\n                action.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata) || {}\n                    : Object.assign(\n                          {},\n\n                          action.headers\n                      );\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // create formdata object\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {\n                formData.append(\n                    name,\n                    item.file,\n                    item.name === null ? item.file.name : '' + item.name + item.file.name\n                );\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function() {\n                for (\n                    var _len = arguments.length, params = new Array(_len), _key = 0;\n                    _key < _len;\n                    _key++\n                ) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n\n        // no action supplied\n        if (!action || !isString(action.url)) return null;\n\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n\n    /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function(uniqueFileId, load) {\n                return load();\n            };\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal implementation\n        return function(uniqueFileId, load, error) {\n            var request = sendRequest(\n                uniqueFileId,\n                apiUrl + action.url,\n                action // contains method, headers and withCredentials properties\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n\n            return request;\n        };\n    };\n\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n\n            cb(progress);\n\n            timeout = setTimeout(tick, delay);\n        };\n\n        if (duration > 0) tick();\n\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            },\n        };\n    };\n\n    var createFileProcessor = function createFileProcessor(processFn, options) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null,\n        };\n        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;\n\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null) return;\n\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n\n            // let's start processing\n            api.fire('start');\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n                function(progress) {\n                    state.perceivedProgress = progress;\n                    state.perceivedDuration = Date.now() - state.timestamp;\n\n                    progressFn();\n\n                    // if fake progress is done, and a response has been received,\n                    // and we've not yet called the complete method\n                    if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                        // we done!\n                        completeFn();\n                    }\n                },\n                // random delay as in a list of files you start noticing\n                // files uploading at the exact same speed\n                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n            );\n\n            // remember request so we can abort it later\n            state.request = processFn(\n                // the file to process\n                file,\n\n                // the metadata to send along\n                metadata,\n\n                // callbacks (load, error, progress, abort, transfer)\n                // load expects the body to be a server id if\n                // you want to make use of revert\n                function(response) {\n                    // we put the response in state so we can access\n                    // it outside of this method\n                    state.response = isObject(response)\n                        ? response\n                        : {\n                              type: 'load',\n                              code: 200,\n                              body: '' + response,\n                              headers: {},\n                          };\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // force progress to 1 as we're now done\n                    state.progress = 1;\n\n                    // actual load is done let's share results\n                    api.fire('load', state.response.body);\n\n                    // we are really done\n                    // if perceived progress is 1 ( wait for perceived progress to complete )\n                    // or if server does not support progress ( null )\n                    if (\n                        !allowMinimumUploadDuration ||\n                        (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                    ) {\n                        completeFn();\n                    }\n                },\n\n                // error is expected to be an object with type, code, body\n                function(error) {\n                    // cancel updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // update others about this error\n                    api.fire(\n                        'error',\n                        isObject(error)\n                            ? error\n                            : {\n                                  type: 'error',\n                                  code: 0,\n                                  body: '' + error,\n                              }\n                    );\n                },\n\n                // actual processing progress\n                function(computable, current, total) {\n                    // update actual duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // update actual progress\n                    state.progress = computable ? current / total : null;\n\n                    progressFn();\n                },\n\n                // abort does not expect a value\n                function() {\n                    // stop updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // fire the abort event so we can switch visuals\n                    api.fire('abort', state.response ? state.response.body : null);\n                },\n\n                // register the id for this transfer\n                function(transferId) {\n                    api.fire('transfer', transferId);\n                }\n            );\n        };\n\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request) return;\n\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n\n            // abort actual request\n            if (state.request.abort) state.request.abort();\n\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n\n        var getProgress = allowMinimumUploadDuration\n            ? function() {\n                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n              }\n            : function() {\n                  return state.progress || null;\n              };\n\n        var getDuration = allowMinimumUploadDuration\n            ? function() {\n                  return Math.min(state.duration, state.perceivedDuration);\n              }\n            : function() {\n                  return state.duration;\n              };\n\n        var api = Object.assign({}, on(), {\n            process: process, // start processing file\n            abort: abort, // abort active process request\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset,\n        });\n\n        return api;\n    };\n\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substring(0, name.lastIndexOf('.')) || name;\n    };\n\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        } else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        } else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2],\n        };\n    };\n\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src)) return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key)) continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n\n            // if is frozen, no longer fires events\n            frozen: false,\n\n            // removed from view\n            released: false,\n\n            // original source\n            source: null,\n\n            // file model reference\n            file: file,\n\n            // id of file on server\n            serverFileReference: serverFileReference,\n\n            // id of file transfer on server\n            transferId: null,\n\n            // is aborted\n            processingAborted: false,\n\n            // current item status\n            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n            // active processes\n            activeLoader: null,\n            activeProcessor: null,\n        };\n\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen) return;\n            for (\n                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n\n            // source is known\n            api.fireSync('init');\n\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n\n            // starts loading\n            loader.on('init', function() {\n                fire('load-init');\n            });\n\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function(meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n\n                // set name of file stub\n                state.file.filename = meta.filename;\n\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n\n                // size has been updated\n                fire('load-meta');\n            });\n\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function(progress) {\n                setStatus(ItemStatus.LOADING);\n\n                fire('load-progress', progress);\n            });\n\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function(error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n\n                fire('load-request-error', error);\n            });\n\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function() {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n\n            // done loading\n            loader.on('load', function(file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    } else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n\n                    fire('load');\n                };\n\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n\n            // set loader source data\n            loader.setSource(source);\n\n            // set as active loader\n            state.activeLoader = loader;\n\n            // load the source data\n            loader.load();\n        };\n\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function() {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n\n            // setup processor\n            processor.on('load', function(serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n\n            // register transfer id\n            processor.on('transfer', function(transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n\n            processor.on('load-perceived', function(serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n\n            processor.on('start', function() {\n                fire('process-start');\n            });\n\n            processor.on('error', function(error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n\n            processor.on('abort', function(serverFileReference) {\n                state.activeProcessor = null;\n\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n\n            processor.on('progress', function(progress) {\n                fire('process-progress', progress);\n            });\n\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived) return;\n\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n\n            // something went wrong during transform phase\n            var error = console.error;\n\n            // start processing the file\n            onprocess(state.file, success, error);\n\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function(resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n\n                    resolve();\n                    return;\n                }\n\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n\n                state.activeProcessor.abort();\n            });\n        };\n\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function(resolve, reject) {\n                // a completed upload will have a serverFileReference, a failed chunked upload where\n                // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set\n                var serverTransferId =\n                    state.serverFileReference !== null\n                        ? state.serverFileReference\n                        : state.transferId;\n\n                // cannot revert without a server id for this process\n                if (serverTransferId === null) {\n                    resolve();\n                    return;\n                }\n\n                // revert the upload (fire and forget)\n                revertFileUpload(\n                    serverTransferId,\n                    function() {\n                        // reset file server id and transfer id as now it's not available on the server\n                        state.serverFileReference = null;\n                        state.transferId = null;\n                        resolve();\n                    },\n                    function(error) {\n                        // don't set error state when reverting is optional, it will always resolve\n                        if (!forceRevert) {\n                            resolve();\n                            return;\n                        }\n\n                        // oh no errors\n                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                        fire('process-revert-error');\n                        reject(error);\n                    }\n                );\n\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function(key) {\n                return (data = data[key]);\n            });\n\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n            // update value\n            data[last] = value;\n\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root],\n                silent: silent,\n            });\n        };\n\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n\n        var api = Object.assign(\n            {\n                id: {\n                    get: function get() {\n                        return id;\n                    },\n                },\n                origin: {\n                    get: function get() {\n                        return origin;\n                    },\n                    set: function set(value) {\n                        return (origin = value);\n                    },\n                },\n                serverId: {\n                    get: function get() {\n                        return state.serverFileReference;\n                    },\n                },\n                transferId: {\n                    get: function get() {\n                        return state.transferId;\n                    },\n                },\n                status: {\n                    get: function get() {\n                        return state.status;\n                    },\n                },\n                filename: {\n                    get: function get() {\n                        return state.file.name;\n                    },\n                },\n                filenameWithoutExtension: {\n                    get: function get() {\n                        return getFilenameWithoutExtension(state.file.name);\n                    },\n                },\n                fileExtension: { get: getFileExtension },\n                fileType: { get: getFileType },\n                fileSize: { get: getFileSize },\n                file: { get: getFile },\n                relativePath: {\n                    get: function get() {\n                        return state.file._relativePath;\n                    },\n                },\n\n                source: {\n                    get: function get() {\n                        return state.source;\n                    },\n                },\n\n                getMetadata: getMetadata,\n                setMetadata: function setMetadata(key, value, silent) {\n                    if (isObject(key)) {\n                        var data = key;\n                        Object.keys(data).forEach(function(key) {\n                            _setMetadata(key, data[key], value);\n                        });\n                        return key;\n                    }\n                    _setMetadata(key, value, silent);\n                    return value;\n                },\n\n                extend: function extend(name, handler) {\n                    return (itemAPI[name] = handler);\n                },\n\n                abortLoad: abortLoad,\n                retryLoad: retryLoad,\n                requestProcessing: requestProcessing,\n                abortProcessing: abortProcessing,\n\n                load: load,\n                process: process,\n                revert: revert,\n            },\n\n            on(),\n            {\n                freeze: function freeze() {\n                    return (state.frozen = true);\n                },\n\n                release: function release() {\n                    return (state.released = true);\n                },\n                released: {\n                    get: function get() {\n                        return state.released;\n                    },\n                },\n\n                archive: function archive() {\n                    return (state.archived = true);\n                },\n                archived: {\n                    get: function get() {\n                        return state.archived;\n                    },\n                },\n\n                // replace source and file object\n                setFile: function setFile(file) {\n                    return (state.file = file);\n                },\n            }\n        );\n\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n\n        return itemAPI;\n    };\n\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n\n        // return item by id (or -1 if not found)\n        return items.findIndex(function(item) {\n            return item.id === query;\n        });\n    };\n\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob',\n        });\n\n        request.onload = function(xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)\n            );\n        };\n\n        request.onerror = function(xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n\n        request.onheaders = function(xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n\n    var isExternalURL = function isExternalURL(url) {\n        return (\n            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url)\n        );\n    };\n\n    var dynamicLabel = function dynamicLabel(label) {\n        return function() {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function() {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n\n    var optionalPromise = function optionalPromise(fn) {\n        for (\n            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n            _key < _len;\n            _key++\n        ) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function(resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n\n            var result = fn.apply(void 0, params);\n\n            if (result == null) {\n                return resolve(true);\n            }\n\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function(a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query,\n                _ref$success = _ref.success,\n                success = _ref$success === void 0 ? function() {} : _ref$success,\n                _ref$failure = _ref.failure,\n                failure = _ref$failure === void 0 ? function() {} : _ref$failure,\n                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                });\n\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function(item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value,\n                    value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function(file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options,\n                    };\n                });\n\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n\n                activeItems.forEach(function(item) {\n                    // if item not is in new value, remove\n                    if (\n                        !files.find(function(file) {\n                            return file.source === item.source || file.source === item.file;\n                        })\n                    ) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function(file, index) {\n                    // if file is already in list\n                    if (\n                        activeItems.find(function(item) {\n                            return item.source === file.source || item.file === file.source;\n                        })\n                    )\n                        return;\n\n                    // not in list, add\n                    dispatch(\n                        'ADD_ITEM',\n                        Object.assign({}, file, {\n                            interactionMethod: InteractionMethod.NONE,\n                            index: index,\n                        })\n                    );\n                });\n            },\n\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id,\n                    action = _ref3.action,\n                    change = _ref3.change;\n                // don't do anything\n                if (change.silent) return;\n\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function() {\n                    var item = getItemById(state.items, id);\n\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action,\n                            change: change,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            if (!shouldPrepareOutput) return;\n\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                    },\n                                },\n\n                                true\n                            );\n                        });\n\n                        return;\n                    }\n\n                    // if is local item we need to enable upload button so change can be propagated to server\n                    if (item.origin === FileOrigin.LOCAL) {\n                        dispatch('DID_LOAD_ITEM', {\n                            id: item.id,\n                            error: null,\n                            serverFileReference: item.source,\n                        });\n                    }\n\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function() {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n\n                    var revert = function revert(doUpload) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(doUpload ? upload : function() {})\n                            .catch(function() {});\n                    };\n\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function() {});\n                    };\n\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query,\n                    index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item) return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index) return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS'),\n                });\n            },\n\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items,\n                    index = _ref6.index,\n                    interactionMethod = _ref6.interactionMethod,\n                    _ref6$success = _ref6.success,\n                    success = _ref6$success === void 0 ? function() {} : _ref6$success,\n                    _ref6$failure = _ref6.failure,\n                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;\n                var currentIndex = index;\n\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n\n                var promises = validItems.map(function(source) {\n                    return new Promise(function(resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {},\n                        });\n                    });\n                });\n\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source,\n                    _ref7$index = _ref7.index,\n                    index = _ref7$index === void 0 ? -1 : _ref7$index,\n                    interactionMethod = _ref7.interactionMethod,\n                    _ref7$success = _ref7.success,\n                    success = _ref7$success === void 0 ? function() {} : _ref7$success,\n                    _ref7$failure = _ref7.failure,\n                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,\n                    _ref7$options = _ref7.options,\n                    options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null,\n                    });\n\n                    return;\n                }\n\n                // filter out invalid file items, used to filter dropped directory contents\n                if (\n                    isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())\n                ) {\n                    // fail silently\n                    return;\n                }\n\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (\n                        state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)\n                    ) {\n                        var error = createResponse('warning', 0, 'Max files');\n\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error,\n                        });\n\n                        failure({ error: error, file: null });\n\n                        return;\n                    }\n\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n\n                    // if has been processed remove it from the server as well\n                    if (\n                        _item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(\n                                createRevertFunction(\n                                    state.options.server.url,\n                                    state.options.server.revert\n                                ),\n                                forceRevert\n                            )\n                            .then(function() {\n                                if (!forceRevert) return;\n\n                                // try to add now\n                                dispatch('ADD_ITEM', {\n                                    source: source,\n                                    index: index,\n                                    interactionMethod: interactionMethod,\n                                    success: success,\n                                    failure: failure,\n                                    options: options,\n                                });\n                            })\n                            .catch(function() {}); // no need to handle this catch state for now\n\n                        if (forceRevert) return;\n                    }\n\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n\n                // where did the file originate\n                var origin =\n                    options.type === 'local'\n                        ? FileOrigin.LOCAL\n                        : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n\n                // create a new blank item\n                var item = createItem(\n                    // where did this file come from\n                    origin,\n\n                    // an input file never has a server file reference\n                    origin === FileOrigin.INPUT ? null : source,\n\n                    // file mock data, if defined\n                    options.file\n                );\n\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function(key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });\n\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n\n                // add item to list\n                insertItem(state.items, item, index);\n\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // get a quick reference to the item id\n                var id = item.id;\n\n                // observe item events\n                item.on('init', function() {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n\n                item.on('load-init', function() {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n\n                item.on('load-meta', function() {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n\n                item.on('load-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('load-request-error', function(error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')',\n                            },\n                        });\n\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('load-file-error', function(error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status,\n                    });\n\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n\n                item.on('load-abort', function() {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n\n                item.on('load-skip', function() {\n                    item.on('metadata-update', function(change) {\n                        if (!isFile(item.file)) return;\n                        dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                    });\n\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success,\n                        },\n                    });\n                });\n\n                item.on('load', function() {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id,\n                            });\n\n                            return;\n                        }\n\n                        // now interested in metadata updates\n                        item.on('metadata-update', function(change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success,\n                                    },\n                                });\n\n                                listUpdated(dispatch, state);\n                            };\n\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch(\n                                    'REQUEST_PREPARE_OUTPUT',\n                                    {\n                                        query: id,\n                                        item: item,\n                                        success: function success(file) {\n                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                            loadComplete();\n                                        },\n                                    },\n\n                                    true\n                                );\n\n                                return;\n                            }\n\n                            loadComplete();\n                        });\n                    };\n\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })\n                        .then(function() {\n                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                                handleAdd\n                            );\n                        })\n                        .catch(function(e) {\n                            if (!e || !e.error || !e.status) return handleAdd(false);\n                            dispatch('DID_THROW_ITEM_INVALID', {\n                                id: id,\n                                error: e.error,\n                                status: e.status,\n                            });\n                        });\n                });\n\n                item.on('process-start', function() {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('process-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-revert-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-complete', function(serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n\n                item.on('process-abort', function() {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-revert', function() {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod,\n                });\n\n                listUpdated(dispatch, state);\n\n                // start loading the source\n                var _ref8 = state.options.server || {},\n                    url = _ref8.url,\n                    load = _ref8.load,\n                    restore = _ref8.restore,\n                    fetch = _ref8.fetch;\n\n                item.load(\n                    source,\n\n                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                    createFileLoader(\n                        origin === FileOrigin.INPUT\n                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                              isString(source) && isExternalURL(source)\n                                ? fetch\n                                    ? createFetchFunction(url, fetch)\n                                    : fetchBlob // remote url\n                                : fetchBlob // try to fetch url\n                            : // limbo or local\n                            origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                    ),\n\n                    // called when the file is loaded so it can be piped through the filters\n                    function(file, success, error) {\n                        // let's process the file\n                        applyFilterChain('LOAD_FILE', file, { query: query })\n                            .then(success)\n                            .catch(error);\n                    }\n                );\n            },\n\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item,\n                    success = _ref9.success,\n                    _ref9$failure = _ref9.failure,\n                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                };\n\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived) return failure(err);\n\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(\n                    function(result) {\n                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                            query: query,\n                            item: item,\n                        }).then(function(result) {\n                            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                            if (item.archived) return failure(err);\n\n                            // we done!\n                            success(result);\n                        });\n                    }\n                );\n            },\n\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item,\n                    data = _ref10.data;\n                var success = data.success,\n                    source = data.source;\n\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n                });\n\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: item.serverId || source,\n                    });\n\n                    return;\n                }\n\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {\n                dispatch(\n                    'REQUEST_PREPARE_OUTPUT',\n                    {\n                        query: item.id,\n                        item: item,\n                        success: function success(file) {\n                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                            _success({\n                                file: item,\n                                output: file,\n                            });\n                        },\n                        failure: failure,\n                    },\n\n                    true\n                );\n            }),\n\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(\n                item,\n                success,\n                failure\n            ) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing =\n                    // waiting for something\n                    item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure,\n                        });\n                    };\n\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (\n                        item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(process)\n                            .catch(function() {}); // don't continue with processing if something went wrong\n                    } else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n\n                    return;\n                }\n\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n                item.requestProcessing();\n\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n\n            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)\n                    .length;\n\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure,\n                    });\n\n                    // stop it!\n                    return;\n                }\n\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING) return;\n\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n\n                    // no items left\n                    if (!queueEntry) return;\n\n                    // get item reference\n                    var id = queueEntry.id,\n                        success = queueEntry.success,\n                        failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n\n                    // process queued item\n                    dispatch(\n                        'PROCESS_ITEM',\n                        { query: id, success: success, failure: failure },\n                        true\n                    );\n                };\n\n                // we done function\n                item.onOnce('process-complete', function() {\n                    success(createItemAPI(item));\n                    processNext();\n\n                    // if origin is local, and we're instant uploading, trigger remove of original\n                    // as revert will remove file from list\n                    var server = state.options.server;\n                    var instantUpload = state.options.instantUpload;\n                    if (\n                        instantUpload &&\n                        item.origin === FileOrigin.LOCAL &&\n                        isFunction(server.remove)\n                    ) {\n                        var noop = function noop() {};\n                        item.origin = FileOrigin.LIMBO;\n                        state.options.server.remove(item.source, noop, noop);\n                    }\n\n                    // All items processed? No errors?\n                    var allItemsProcessed =\n                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                        state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n\n                // we error function\n                item.onOnce('process-error', function(error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n\n                // start file processing\n                var options = state.options;\n                item.process(\n                    createFileProcessor(\n                        createProcessorFunction(\n                            options.server.url,\n                            options.server.process,\n                            options.name,\n                            {\n                                chunkTransferId: item.transferId,\n                                chunkServer: options.server.patch,\n                                chunkUploads: options.chunkUploads,\n                                chunkForce: options.chunkForce,\n                                chunkSize: options.chunkSize,\n                                chunkRetryDelays: options.chunkRetryDelays,\n                            }\n                        ),\n\n                        {\n                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                        }\n                    ),\n\n                    // called when the file is about to be processed so it can be piped through the transform filters\n                    function(file, success, error) {\n                        // allow plugins to alter the file data\n                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })\n                            .then(function(file) {\n                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n\n                                success(file);\n                            })\n                            .catch(error);\n                    }\n                );\n            }),\n\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(\n                    shouldRemove\n                ) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n\n            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {\n                item.release();\n            }),\n\n            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n\n                // if this is a local file and the `server.remove` function has been configured,\n                // send source there so dev can remove file from server\n                var server = state.options.server;\n                if (\n                    item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false\n                ) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n                    server.remove(\n                        item.source,\n                        function() {\n                            return removeFromView();\n                        },\n                        function(status) {\n                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                                id: item.id,\n                                error: createResponse('error', 0, status, null),\n                                status: {\n                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                    sub: state.options.labelTapToRetry,\n                                },\n                            });\n                        }\n                    );\n                } else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (\n                        (options.revert &&\n                            item.origin !== FileOrigin.LOCAL &&\n                            item.serverId !== null) ||\n                        // if chunked uploads are enabled and we're uploading in chunks for this specific file\n                        // or if the file isn't big enough for chunked uploads but chunkForce is set then call\n                        // revert before removing from the view...\n                        (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||\n                        (state.options.chunkUploads && state.options.chunkForce)\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        );\n                    }\n\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                item.abortLoad();\n            }),\n\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n\n                // abort\n                item.abortProcessing().then(function() {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert) return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(function() {\n                        var shouldRemove = state.options.instantUpload || isMockItem(item);\n                        if (shouldRemove) {\n                            dispatch('REMOVE_ITEM', { query: item.id });\n                        }\n                    })\n                    .catch(function() {});\n            }),\n\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                // get all keys passed\n                var optionKeys = Object.keys(options);\n\n                // get prioritized keyed to include (remove once not in options object)\n                var prioritizedOptionKeys = PrioritizedOptions.filter(function(key) {\n                    return optionKeys.includes(key);\n                });\n\n                // order the keys, prioritized first, then rest\n                var orderedOptionKeys = [].concat(\n                    _toConsumableArray(prioritizedOptionKeys),\n                    _toConsumableArray(\n                        Object.keys(options).filter(function(key) {\n                            return !prioritizedOptionKeys.includes(key);\n                        })\n                    )\n                );\n\n                // dispatch set event for each option\n                orderedOptionKeys.forEach(function(key) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: options[key],\n                    });\n                });\n            },\n        };\n    };\n\n    var PrioritizedOptions = ['server'];\n\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        } else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians),\n        };\n    };\n\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n    };\n\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(\n            x,\n            y,\n            radius,\n            Math.min(0.9999, from) * 360,\n            Math.min(0.9999, to) * 360,\n            arcSweep\n        );\n    };\n\n    var create = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n        });\n\n        svg.appendChild(root.ref.path);\n\n        root.ref.svg = svg;\n\n        root.appendChild(svg);\n    };\n\n    var write = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        } else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10,\n                },\n            },\n        },\n    });\n\n    var create$1 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n\n        props.isDisabled = false;\n    };\n\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        } else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button',\n        },\n\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n\n            listeners: true,\n        },\n\n        create: create$1,\n        write: write$1,\n    });\n\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        var _options$labelBytes = options.labelBytes,\n            labelBytes = _options$labelBytes === void 0 ? 'bytes' : _options$labelBytes,\n            _options$labelKilobyt = options.labelKilobytes,\n            labelKilobytes = _options$labelKilobyt === void 0 ? 'KB' : _options$labelKilobyt,\n            _options$labelMegabyt = options.labelMegabytes,\n            labelMegabytes = _options$labelMegabyt === void 0 ? 'MB' : _options$labelMegabyt,\n            _options$labelGigabyt = options.labelGigabytes,\n            labelGigabytes = _options$labelGigabyt === void 0 ? 'GB' : _options$labelGigabyt;\n\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' ' + labelBytes;\n        }\n\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' ' + labelKilobytes;\n        }\n\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' ' + labelMegabytes;\n        }\n\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' ' + labelGigabytes;\n    };\n\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function(part) {\n                return part !== '0';\n            })\n            .join(separator);\n    };\n\n    var create$2 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        text(\n            root.ref.fileSize,\n            toNaturalFileSize(\n                root.query('GET_ITEM_SIZE', props.id),\n                '.',\n                root.query('GET_FILE_SIZE_BASE'),\n                root.query('GET_FILE_SIZE_LABELS', root.query)\n            )\n        );\n\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            updateFile({ root: root, props: props });\n            return;\n        }\n\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_LOADING')\n                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_PROCESSING')\n                : root.query('GET_LABEL_FILE_PROCESSING') +\n                  ' ' +\n                  toPercentage(action.progress) +\n                  '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n\n    var error = function error(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    /**\n     * Button definitions for the file view\n     */\n\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION', // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n    };\n\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function(key) {\n        ButtonKeys.push(key);\n    });\n\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        if (getRemoveIndicatorAligment(root) === 'right') return 0;\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 },\n    };\n\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    };\n\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    };\n\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 },\n        },\n\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 },\n        },\n\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset },\n        },\n\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 },\n        },\n\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_REVERT_ITEM_PROCESSING: IdleStyle,\n    };\n\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // copy Buttons object\n        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {\n            prev[curr] = Object.assign({}, Buttons[curr]);\n            return prev;\n        }, {});\n        var id = props.id;\n\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        } else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n\n        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR',\n            ].forEach(function(key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // show/hide RemoveItem button\n        if (!allowRemove) {\n            LocalButtons['RemoveItem'].disabled = true;\n        }\n\n        // create the button views\n        forin(LocalButtons, function(key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0,\n            });\n\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n\n            // add class\n            buttonView.element.classList.add(definition.className);\n\n            // handle interactions\n            buttonView.on('click', function(e) {\n                e.stopPropagation();\n                if (definition.disabled) return;\n                root.dispatch(definition.action, { query: id });\n            });\n\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(\n            root.createChildView(processingCompleteIndicatorView)\n        );\n\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'\n        );\n\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),\n            })\n        );\n\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n\n        var progressIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),\n            })\n        );\n\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root,\n            actions = _ref3.actions,\n            props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function(action) {\n                return /^DID_/.test(action.type);\n            })\n            .reverse()\n            .find(function(action) {\n                return StyleMap[action.type];\n            });\n\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function(name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n\n                // loop over all styles for this control\n                forin(defaultStyles, function(key, defaultValue) {\n                    var value =\n                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                            ? stylesToApply[name][key]\n                            : defaultValue;\n                    root.ref.activeStyles.push({ control: control, key: key, value: value });\n                });\n            });\n        }\n\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function(_ref4) {\n            var control = _ref4.control,\n                key = _ref4.key,\n                value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(\n            _ref5\n        ) {\n            var root = _ref5.root,\n                action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root,\n                action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(\n            _ref7\n        ) {\n            var root = _ref7.root,\n                action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root,\n                action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root,\n                action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        },\n    });\n\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file',\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper',\n    });\n\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\n    var create$6 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        [\n            {\n                name: 'top',\n            },\n\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY', 'scaleY'],\n                },\n            },\n\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY'],\n                },\n            },\n        ].forEach(function(section) {\n            createSection(root, section, props.name);\n        });\n\n        root.element.classList.add('filepond--' + props.name);\n\n        root.ref.scalable = null;\n    };\n\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true,\n        });\n\n        var view = root.createChildView(viewConstructor, section.props);\n\n        root.ref[section.name] = root.appendChildView(view);\n    };\n\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n\n        // no height, can't set\n        if (!props.height) return;\n\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root,\n                props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable'],\n        },\n    });\n\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function(item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            },\n        };\n    };\n\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10,\n    };\n\n    var ITEM_SCALE_SPRING = 'spring';\n\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle',\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // select\n        root.ref.handleClick = function(e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // file view\n        root.ref.container = root.appendChildView(\n            root.createChildView(fileWrapper, { id: props.id })\n        );\n\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n        // default start height\n        root.ref.panel.height = null;\n\n        // by default not marked for removal\n        props.markedForRemoval = false;\n\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER')) return;\n\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n\n        var grab = function grab(e) {\n            if (!e.isPrimary) return;\n\n            var removedActivateListener = false;\n\n            var origin = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY,\n            };\n\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n\n            var drag = function drag(e) {\n                if (!e.isPrimary) return;\n\n                e.stopPropagation();\n                e.preventDefault();\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist =\n                    props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n\n            var drop = function drop(e) {\n                if (!e.isPrimary) return;\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                reset();\n            };\n\n            var cancel = function cancel() {\n                reset();\n            };\n\n            var reset = function reset() {\n                document.removeEventListener('pointercancel', cancel);\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function() {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n\n            document.addEventListener('pointercancel', cancel);\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n\n        root.element.addEventListener('pointerdown', grab);\n    };\n\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root,\n                action = _ref2.action;\n            root.height = action.height;\n        },\n    });\n\n    var write$4 = createRoute(\n        {\n            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n                var root = _ref3.root,\n                    props = _ref3.props;\n                props.dragOrigin = {\n                    x: root.translateX,\n                    y: root.translateY,\n                };\n            },\n            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n                var root = _ref4.root;\n                root.element.dataset.dragState = 'drag';\n            },\n            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n                var root = _ref5.root,\n                    props = _ref5.props;\n                props.dragOffset = null;\n                props.dragOrigin = null;\n                root.element.dataset.dragState = 'drop';\n            },\n        },\n\n        function(_ref6) {\n            var root = _ref6.root,\n                actions = _ref6.actions,\n                props = _ref6.props,\n                shouldOptimize = _ref6.shouldOptimize;\n            if (root.element.dataset.dragState === 'drop') {\n                if (root.scaleX <= 1) {\n                    root.element.dataset.dragState = 'idle';\n                }\n            }\n\n            // select last state change action\n            var action = actions\n                .concat()\n                .filter(function(action) {\n                    return /^DID_/.test(action.type);\n                })\n                .reverse()\n                .find(function(action) {\n                    return StateMap[action.type];\n                });\n\n            // no need to set same state twice\n            if (action && action.type !== props.currentState) {\n                // set current state\n                props.currentState = action.type;\n\n                // set state\n                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n            }\n\n            // route actions\n            var aspectRatio =\n                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n            if (!aspectRatio) {\n                route$1({ root: root, actions: actions, props: props });\n                if (!root.height && root.ref.container.rect.element.height > 0) {\n                    root.height = root.ref.container.rect.element.height;\n                }\n            } else if (!shouldOptimize) {\n                root.height = root.rect.element.width * aspectRatio;\n            }\n\n            // sync panel height with item height\n            if (shouldOptimize) {\n                root.ref.panel.height = null;\n            }\n\n            root.ref.panel.height = root.height;\n        }\n    );\n\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root,\n                props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset',\n            ],\n\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 },\n            },\n        },\n    });\n\n    var getItemsPerRow = function(horizontalSpace, itemWidth) {\n        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n    };\n\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView) return;\n\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                } else if (_index !== l - 1) {\n                    last = _index;\n                } else {\n                    last = null;\n                }\n            }\n        }\n\n        if (last !== null) {\n            return last;\n        }\n\n        return l;\n    };\n\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0) this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0) this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0) this.height = height;\n            if (this.width === 0 || width === 0) this.width = width;\n        },\n    };\n\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var id = action.id,\n            index = action.index,\n            interactionMethod = action.interactionMethod;\n\n        root.ref.addIndex = index;\n\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n\n        root.ref.lastItemSpanwDate = spawnDate;\n\n        root.appendChildView(\n            root.createChildView(\n                // view type\n                item,\n\n                // props\n                {\n                    spawnDate: spawnDate,\n                    id: id,\n                    opacity: opacity,\n                    interactionMethod: interactionMethod,\n                }\n            ),\n\n            index\n        );\n    };\n\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        } else {\n            item.translateX = x;\n            item.translateY = y;\n\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        } else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        } else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var id = action.id;\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n\n    var getItemHeight = function getItemHeight(child) {\n        return (\n            child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5\n        );\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (\n            child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5\n        );\n    };\n\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var id = action.id,\n            dragState = action.dragState;\n\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n\n        // if no view found, exit\n        if (!view) return;\n\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n        };\n\n        // get drag area dimensions\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems) cols = numItems;\n\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (\n                    dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0\n                )\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function(item) {\n                    return visibleChildren.find(function(childView) {\n                        return childView.id === item.id;\n                    });\n                });\n\n                var currentIndex = children.findIndex(function(child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            },\n        };\n\n        // get new index\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n\n            if (currentIndex === undefined) return;\n\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index,\n            });\n        }\n    };\n\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem,\n    });\n\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions,\n            shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n\n        if (children.length === 0) return;\n\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n\n            children.forEach(function(child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    } else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    } else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    } else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    } else {\n                        dragOffset = 0;\n                    }\n                }\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n\n            children.forEach(function(child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n\n                prevX = offsetX;\n                prevY = offsetY;\n\n                if (child.markedForRemoval) return;\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function(action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n\n            // allow all other actions\n            return true;\n        });\n    };\n\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function(view) {\n                    return view.markedForRemoval && view.opacity === 0 && view.resting;\n                })\n                .forEach(function(view) {\n                    view._destroy();\n                    root.removeChildView(view);\n                });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates'],\n        },\n    });\n\n    var create$9 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props,\n            action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top:\n                action.position.scopeTop -\n                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n        };\n    };\n\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates,\n    });\n\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props,\n            actions = _ref4.actions;\n\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        } else {\n            element.removeAttribute(name);\n        }\n    };\n\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n\n        try {\n            // for modern browsers\n            input.value = '';\n        } catch (err) {}\n\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            } else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n\n    var create$a = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },\n        });\n        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });\n        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n        // handle changes to the input field\n        root.ref.handleChange = function(e) {\n            if (!root.element.value) {\n                return;\n            }\n\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function(file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function() {\n                // load files\n                props.onload(files);\n\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n        attrToggle(\n            root.element,\n            'accept',\n            !!action.value,\n            action.value ? action.value.join(',') : ''\n        );\n    };\n\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        attrToggle(\n            root.element,\n            'capture',\n            !!action.value,\n            action.value === true ? '' : action.value\n        );\n    };\n\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        } else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity) return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file',\n        },\n\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired,\n        }),\n    });\n\n    var Key = {\n        ENTER: 13,\n        SPACE: 32,\n    };\n\n    var create$b = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n\n        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n        attr(label, 'aria-hidden', 'true');\n\n        // handle keys\n        root.ref.handleKeyDown = function(e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey) return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        root.ref.handleClick = function(e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n\n            // don't want to click twice\n            if (isLabelClick) return;\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // update\n        updateLabelValue(label, props.caption);\n\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root,\n                    action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            },\n        }),\n\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n\n        root.ref.blob = root.appendChildView(\n            root.createChildView(blob, {\n                opacity: 0,\n                scaleX: 2.5,\n                scaleY: 2.5,\n                translateX: centerX,\n                translateY: centerY,\n            })\n        );\n    };\n\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob,\n    });\n\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7,\n    });\n\n    var setInputFiles = function setInputFiles(element, files) {\n        try {\n            // Create a DataTransfer instance and add a newly created file\n            var dataTransfer = new DataTransfer();\n            files.forEach(function(file) {\n                if (file instanceof File) {\n                    dataTransfer.items.add(file);\n                } else {\n                    dataTransfer.items.add(\n                        new File([file], file.name, {\n                            type: file.type,\n                        })\n                    );\n                }\n            });\n\n            // Assign the DataTransfer files list to the file input\n            element.files = dataTransfer.files;\n        } catch (err) {\n            return false;\n        }\n        return true;\n    };\n\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {\n            if (!root.ref.fields[item.id]) return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var fileItem = root.query('GET_ITEM', action.id);\n        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n        var dataContainer = createElement$1('input');\n        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        dataContainer.disabled = root.query('GET_DISABLED');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n\n        // store server ref in hidden input\n        if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n        // store file item in file input\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n        var fileItem = root.query('GET_ITEM', action.id);\n        setInputFiles(field, [fileItem.file]);\n    };\n\n    var didPrepareOutput = function didPrepareOutput(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        // this timeout pushes the handler after 'load'\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n        setTimeout(function() {\n            var field = getField(root, action.id);\n            if (!field) return;\n            setInputFiles(field, [action.file]);\n        }, 0);\n    };\n\n    var didSetDisabled = function didSetDisabled(_ref6) {\n        var root = _ref6.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n\n    var didRemoveItem = function didRemoveItem(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (field.parentNode) field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n\n    // only runs for server files. will refuse to update the value if the field\n    // is a file field\n    var didDefineValue = function didDefineValue(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (action.value === null) {\n            // clear field value\n            field.removeAttribute('value');\n        } else {\n            // set field value\n            if (field.type != 'file') {\n                field.value = action.value;\n            }\n        }\n        syncFieldPositionsWithItems(root);\n    };\n\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_PREPARE_OUTPUT: didPrepareOutput,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems,\n    });\n\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true,\n    });\n\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip',\n    };\n\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return (\n                'image/' +\n                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n            );\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n\n        return map[extension] || '';\n    };\n\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files) return dataTransfer.files.length > 0;\n        return false;\n    };\n\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n                // only keep file system items (files and directories)\n                .filter(function(item) {\n                    return isFileSystemItem(item);\n                })\n\n                // map each item to promise\n                .map(function(item) {\n                    return getFilesFromItem(item);\n                });\n\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n\n            // done!\n            Promise.all(promisedFiles)\n                .then(function(returnedFileGroups) {\n                    // flatten groups\n                    var files = [];\n                    returnedFileGroups.forEach(function(group) {\n                        files.push.apply(files, group);\n                    });\n\n                    // done (filter out empty files)!\n                    resolve(\n                        files\n                            .filter(function(file) {\n                                return file;\n                            })\n                            .map(function(file) {\n                                if (!file._relativePath)\n                                    file._relativePath = file.webkitRelativePath;\n                                return file;\n                            })\n                    );\n                })\n                .catch(console.error);\n        });\n    };\n\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function(resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n\n            resolve([item.getAsFile()]);\n        });\n    };\n\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function(resolve, reject) {\n            var files = [];\n\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n\n                var directoryReader = dirEntry.createReader();\n\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function(entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n\n                        entries.forEach(function(entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            } else {\n                                // read as file\n                                fileCounter++;\n\n                                entry.file(function(file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n\n                // read first batch of files\n                readBatch();\n            };\n\n            // go!\n            readEntries(entry);\n        });\n    };\n\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length) return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length) return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        } catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n\n    var dragNDropObservers = [];\n\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY,\n        };\n    };\n\n    var createDragNDropClient = function createDragNDropClient(\n        element,\n        scopeToObserve,\n        filterElement\n    ) {\n        var observer = getDragNDropObserver(scopeToObserve);\n\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() {},\n            onenter: function onenter() {},\n            ondrag: function ondrag() {},\n            onexit: function onexit() {},\n            onload: function onload() {},\n            allowdrop: function allowdrop() {},\n        };\n\n        client.destroy = observer.addListener(client);\n\n        return client;\n    };\n\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function(item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop,\n        };\n\n        var handlers = {};\n\n        forin(routes, function(event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n\n                // return removeListener function\n                return function() {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                        forin(routes, function(event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            },\n        };\n\n        return observer;\n    };\n\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset,\n        });\n\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n\n    var initialTarget = null;\n\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        } catch (e) {}\n    };\n\n    var dragenter = function dragenter(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            initialTarget = e.target;\n\n            clients.forEach(function(client) {\n                var element = client.element,\n                    onenter = client.onenter;\n\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n\n    var dragover = function dragover(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                var overDropTarget = false;\n\n                clients.some(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        onenter = client.onenter,\n                        onexit = client.onexit,\n                        ondrag = client.ondrag,\n                        allowdrop = client.allowdrop;\n\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n\n                        // dragging\n                        ondrag(eventPosition(e));\n                    } else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n\n    var drop = function drop(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                clients.forEach(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        ondrop = client.ondrop,\n                        onexit = client.onexit,\n                        allowdrop = client.allowdrop;\n\n                    client.state = null;\n\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element)) return;\n\n                    // no transfer for this client\n                    if (!allowdrop(items)) return onexit(eventPosition(e));\n\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n\n    var dragleave = function dragleave(root, clients) {\n        return function(e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n\n            clients.forEach(function(client) {\n                var onexit = client.onexit;\n\n                client.state = null;\n\n                onexit(eventPosition(e));\n            });\n        };\n    };\n\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage,\n            requiresDropOnElement = options.requiresDropOnElement,\n            _options$filterItems = options.filterItems,\n            filterItems =\n                _options$filterItems === void 0\n                    ? function(items) {\n                          return items;\n                      }\n                    : _options$filterItems;\n\n        // create a dnd client\n        var client = createDragNDropClient(\n            scope,\n            catchesDropsOnPage ? document.documentElement : scope,\n            requiresDropOnElement\n        );\n\n        // current client state\n        var lastState = '';\n        var currentState = '';\n\n        // determines if a file may be dropped\n        client.allowdrop = function(items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n\n            return validateItems(filterItems(items));\n        };\n\n        client.ondrop = function(position, items) {\n            var filteredItems = filterItems(items);\n\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n\n            currentState = 'drag-drop';\n\n            api.onload(filteredItems, position);\n        };\n\n        client.ondrag = function(position) {\n            api.ondrag(position);\n        };\n\n        client.onenter = function(position) {\n            currentState = 'drag-over';\n\n            api.ondragstart(position);\n        };\n\n        client.onexit = function(position) {\n            currentState = 'drag-exit';\n\n            api.ondragend(position);\n        };\n\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() {},\n            ondragstart: function ondragstart() {},\n            ondrag: function ondrag() {},\n            ondragend: function ondragend() {},\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            },\n        };\n\n        return api;\n    };\n\n    var listening = false;\n    var listeners$1 = [];\n\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n\n            if (!inScope) return;\n        }\n\n        requestDataTransferItems(e.clipboardData).then(function(files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n\n            // notify listeners of received files\n            listeners$1.forEach(function(listener) {\n                return listener(files);\n            });\n        });\n    };\n\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n\n        // add initial listener\n        listeners$1.push(cb);\n\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() {},\n        };\n\n        listen(cb);\n\n        return api;\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n\n    var filenames = [];\n\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(\n            root,\n            label +\n                ' ' +\n                filename +\n                ', ' +\n                total +\n                ' ' +\n                (total === 1\n                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))\n        );\n\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function() {\n            clear$1(root);\n        }, 1500);\n    };\n\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function() {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n\n            filenames.length = 0;\n        }, 750);\n    };\n\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n        }),\n\n        tag: 'span',\n        name: 'assistant',\n    });\n\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly =\n            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n\n        return function() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n\n            var dist = Date.now() - last;\n\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            } else {\n                // go!\n                fn();\n            }\n        };\n    };\n\n    var MAX_FILES_LIMIT = 1000000;\n\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n\n    var create$e = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function(name) {\n                    return name.length;\n                })\n                .forEach(function(name) {\n                    root.element.classList.add(name);\n                });\n        }\n\n        // Field label\n        root.ref.label = root.appendChildView(\n            root.createChildView(\n                dropLabel,\n                Object.assign({}, props, {\n                    translateY: null,\n                    caption: root.query('GET_LABEL_IDLE'),\n                })\n            )\n        );\n\n        // List of items\n        root.ref.list = root.appendChildView(\n            root.createChildView(listScroller, { translateY: null })\n        );\n\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(\n            root.createChildView(assistant, Object.assign({}, props))\n        );\n\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n\n        // apply initial style properties\n        root.query('GET_STYLES')\n            .filter(function(style) {\n                return !isEmpty(style.value);\n            })\n            .map(function(_ref2) {\n                var name = _ref2.name,\n                    value = _ref2.value;\n                root.element.dataset[name] = value;\n            });\n\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function() {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.setAttribute('aria-hidden', 'true');\n            frag.href = credits[0];\n            frag.tabindex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props,\n            actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n\n        // apply style properties\n        actions\n            .filter(function(action) {\n                return /^DID_SET_STYLE_/.test(action.type);\n            })\n            .filter(function(action) {\n                return !isEmpty(action.data.value);\n            })\n            .map(function(_ref4) {\n                var type = _ref4.type,\n                    data = _ref4.data;\n                var name = toCamels(type.substring(8).toLowerCase(), '_');\n                root.element.dataset[name] = data.value;\n                root.invalidateLayout();\n            });\n\n        if (root.rect.element.hidden) return;\n\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref,\n            hopper = _root$ref.hopper,\n            label = _root$ref.label,\n            list = _root$ref.list,\n            panel = _root$ref.panel;\n\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n        var atMaxCapacity = totalItems === maxItems;\n\n        // action used to add item\n        var addAction = actions.find(function(action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n\n            // hide label\n            label.opacity = 0;\n\n            if (isMultiItem) {\n                label.translateY = -40;\n            } else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                } else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                } else {\n                    label.translateY = 30;\n                }\n            }\n        } else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n\n        var listItemMargin = calculateListItemMargin(root);\n\n        var listHeight = calculateListHeight(root);\n\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n        var visualHeight =\n            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight =\n            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n        if (aspectRatio) {\n            // fixed aspect ratio\n\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n\n            // available height for list\n            var listAvailableHeight =\n                // the height of the panel minus the label height\n                height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        } else if (bounds.fixedHeight) {\n            // fixed height\n\n            // fix height of panel\n            panel.scalable = false;\n\n            // available height for list\n            var _listAvailableHeight =\n                // the height of the panel minus the label height\n                bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // no need to set container bounds as these are handles by CSS fixed height\n        } else if (bounds.cappedHeight) {\n            // max-height\n\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n            // available height for list\n            var _listAvailableHeight2 =\n                // the height of the panel minus the label height\n                panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(\n                bounds.cappedHeight,\n                boundsHeight - listItemMargin.top - listItemMargin.bottom\n            );\n        } else {\n            // flexible height\n\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n    };\n\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                  top: item.rect.element.marginTop,\n                  bottom: item.rect.element.marginBottom,\n              }\n            : {\n                  top: 0,\n                  bottom: 0,\n              };\n    };\n\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // no children, done!\n        if (children.length === 0) return { visual: visual, bounds: bounds };\n\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n        var childRect = children[0].rect.element;\n\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function(child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function(item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n\n        return { visual: visual, bounds: bounds };\n    };\n\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight,\n        };\n    };\n\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : 1;\n\n        if (!allowMultiple && allowReplace) {\n            // There is only one item, so there is room to replace or add an item\n            return false;\n        }\n\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        return false;\n    };\n\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top:\n                position.scopeTop -\n                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n        });\n    };\n\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(\n                root.element,\n                function(items) {\n                    // allow quick validation of dropped items\n                    var beforeDropFile =\n                        root.query('GET_BEFORE_DROP_FILE') ||\n                        function() {\n                            return true;\n                        };\n\n                    // all items should be validated by all filters as valid\n                    var dropValidation = root.query('GET_DROP_VALIDATION');\n                    return dropValidation\n                        ? items.every(function(item) {\n                              return (\n                                  applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                      query: root.query,\n                                  }).every(function(result) {\n                                      return result === true;\n                                  }) && beforeDropFile(item)\n                              );\n                          })\n                        : true;\n                },\n                {\n                    filterItems: function filterItems(items) {\n                        var ignoredFiles = root.query('GET_IGNORED_FILES');\n                        return items.filter(function(item) {\n                            if (isFile(item)) {\n                                return !ignoredFiles.includes(item.name.toLowerCase());\n                            }\n                            return true;\n                        });\n                    },\n                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n                }\n            );\n\n            hopper.onload = function(items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function(item) {\n                        return visibleChildren.find(function(child) {\n                            return child.id === item.id;\n                        });\n                    })\n                    .filter(function(item) {\n                        return item;\n                    });\n\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP,\n                    });\n                });\n\n                root.dispatch('DID_DROP', { position: position });\n\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            hopper.ondragstart = function(position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n\n            hopper.ondrag = debounce(function(position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n\n            hopper.ondragend = function(position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            root.ref.hopper = hopper;\n\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        } else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(\n                root.createChildView(\n                    browser,\n                    Object.assign({}, props, {\n                        onload: function onload(items) {\n                            applyFilterChain('ADD_ITEMS', items, {\n                                dispatch: root.dispatch,\n                            }).then(function(queue) {\n                                // these files don't fit so stop here\n                                if (exceedsMaxFiles(root, queue)) return false;\n\n                                // add items!\n                                root.dispatch('ADD_ITEMS', {\n                                    items: queue,\n                                    index: -1,\n                                    interactionMethod: InteractionMethod.BROWSE,\n                                });\n                            });\n                        },\n                    })\n                ),\n\n                0\n            );\n        } else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function(items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE,\n                    });\n                });\n            };\n        } else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root,\n                props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root,\n                props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            } else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        },\n    });\n\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height'],\n        },\n    });\n\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n\n        // get default options\n        var defaultOptions = getOptions();\n\n        // create the data store, this will contain all our app info\n        var store = createStore(\n            // initial state (should be serializable)\n            createInitialState(defaultOptions),\n\n            // queries\n            [queries, createOptionQueries(defaultOptions)],\n\n            // action handlers\n            [actions, createOptionActions(defaultOptions)]\n        );\n\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden) return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function() {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n\n        var readWriteApi = {\n            // necessary for update loop\n\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n\n                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting) return;\n\n                // read view data\n                view._read();\n\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function(action) {\n                        return !/^SET_/.test(action.type);\n                    });\n\n                // if was idling and no actions stop here\n                if (isResting && !actions.length) return;\n\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            },\n        };\n\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function(data) {\n                // create default event\n                var event = {\n                    type: name,\n                };\n\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n\n                if (data.file) {\n                    event.output = data.file;\n                }\n\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                } else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n\n                return event;\n            };\n        };\n\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n\n            DID_INIT: createEvent('init'),\n\n            DID_THROW_MAX_FILES: createEvent('warning'),\n\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n            DID_REMOVE_ITEM: createEvent('removefile'),\n\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n            DID_REORDER_ITEMS: createEvent('reorderfiles'),\n        };\n\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(\n                new CustomEvent('FilePond:' + event.type, {\n                    // event info\n                    detail: detail,\n\n                    // event behaviour\n                    bubbles: true,\n                    cancelable: true,\n                    composed: true, // triggers listeners outside of shadow root\n                })\n            );\n\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function(key) {\n                    return !filtered.includes(key);\n                })\n                .forEach(function(key) {\n                    return params.push(event[key]);\n                });\n\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length) return;\n            actions\n                .filter(function(action) {\n                    return eventRoutes[action.type];\n                })\n                .forEach(function(action) {\n                    var routes = eventRoutes[action.type];\n                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {\n                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                        if (action.type === 'DID_INIT_ITEM') {\n                            exposeEvent(route(action.data));\n                        } else {\n                            setTimeout(function() {\n                                exposeEvent(route(action.data));\n                            }, 0);\n                        }\n                    });\n                });\n        };\n\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function(resolve, reject) {\n                addFiles([{ source: source, options: options }], { index: options.index })\n                    .then(function(items) {\n                        return resolve(items && items[0]);\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n\n        var addFiles = function addFiles() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function(resolve, reject) {\n                var sources = [];\n                var options = {};\n\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                } else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject,\n                });\n            });\n        };\n\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n\n        var processFile = function processFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var prepareFiles = function prepareFiles() {\n            for (\n                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n            ) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n\n        var processFiles = function processFiles() {\n            for (\n                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;\n                _key3 < _len3;\n                _key3++\n            ) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function(item) {\n                    return (\n                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n                    );\n                });\n\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n\n        var removeFiles = function removeFiles() {\n            for (\n                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;\n                _key4 < _len4;\n                _key4++\n            ) {\n                args[_key4] = arguments[_key4];\n            }\n\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            } else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n\n            var files = getFiles();\n\n            if (!queries.length)\n                return Promise.all(\n                    files.map(function(file) {\n                        return removeFile(file, options);\n                    })\n                );\n\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function(query) {\n                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;\n                })\n                .filter(function(query) {\n                    return query;\n                });\n\n            return mappedQueries.map(function(q) {\n                return removeFile(q, options);\n            });\n        };\n\n        var exports = Object.assign(\n            {},\n\n            on(),\n            {},\n\n            readWriteApi,\n            {},\n\n            createOptionAPI(store, defaultOptions),\n            {\n                /**\n                 * Override options defined in options object\n                 * @param options\n                 */\n                setOptions: setOptions,\n\n                /**\n                 * Load the given file\n                 * @param source - the source of the file (either a File, base64 data uri or url)\n                 * @param options - object, { index: 0 }\n                 */\n                addFile: addFile,\n\n                /**\n                 * Load the given files\n                 * @param sources - the sources of the files to load\n                 * @param options - object, { index: 0 }\n                 */\n                addFiles: addFiles,\n\n                /**\n                 * Returns the file objects matching the given query\n                 * @param query { string, number, null }\n                 */\n                getFile: getFile,\n\n                /**\n                 * Upload file with given name\n                 * @param query { string, number, null  }\n                 */\n                processFile: processFile,\n\n                /**\n                 * Request prepare output for file with given name\n                 * @param query { string, number, null  }\n                 */\n                prepareFile: prepareFile,\n\n                /**\n                 * Removes a file by its name\n                 * @param query { string, number, null  }\n                 */\n                removeFile: removeFile,\n\n                /**\n                 * Moves a file to a new location in the files list\n                 */\n                moveFile: function moveFile(query, index) {\n                    return store.dispatch('MOVE_ITEM', { query: query, index: index });\n                },\n\n                /**\n                 * Returns all files (wrapped in public api)\n                 */\n                getFiles: getFiles,\n\n                /**\n                 * Starts uploading all files\n                 */\n                processFiles: processFiles,\n\n                /**\n                 * Clears all files from the files list\n                 */\n                removeFiles: removeFiles,\n\n                /**\n                 * Starts preparing output of all files\n                 */\n                prepareFiles: prepareFiles,\n\n                /**\n                 * Sort list of files\n                 */\n                sort: function sort(compare) {\n                    return store.dispatch('SORT', { compare: compare });\n                },\n\n                /**\n                 * Browse the file system for a file\n                 */\n                browse: function browse() {\n                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                    var input = view.element.querySelector('input[type=file]');\n                    if (input) {\n                        input.click();\n                    }\n                },\n\n                /**\n                 * Destroys the app\n                 */\n                destroy: function destroy() {\n                    // request destruction\n                    exports.fire('destroy', view.element);\n\n                    // stop active processes (file uploads, fetches, stuff like that)\n                    // loop over items and depending on states call abort for ongoing processes\n                    store.dispatch('ABORT_ALL');\n\n                    // destroy view\n                    view._destroy();\n\n                    // stop listening to resize\n                    window.removeEventListener('resize', resizeHandler);\n\n                    // stop listening to the visiblitychange event\n                    document.removeEventListener('visibilitychange', visibilityHandler);\n\n                    // dispatch destroy\n                    store.dispatch('DID_DESTROY');\n                },\n\n                /**\n                 * Inserts the plugin before the target element\n                 */\n                insertBefore: function insertBefore$1(element) {\n                    return insertBefore(view.element, element);\n                },\n\n                /**\n                 * Inserts the plugin after the target element\n                 */\n                insertAfter: function insertAfter$1(element) {\n                    return insertAfter(view.element, element);\n                },\n\n                /**\n                 * Appends the plugin to the target element\n                 */\n                appendTo: function appendTo(element) {\n                    return element.appendChild(view.element);\n                },\n\n                /**\n                 * Replaces an element with the app\n                 */\n                replaceElement: function replaceElement(element) {\n                    // insert the app before the element\n                    insertBefore(view.element, element);\n\n                    // remove the original element\n                    element.parentNode.removeChild(element);\n\n                    // remember original element\n                    originalElement = element;\n                },\n\n                /**\n                 * Restores the original element\n                 */\n                restoreElement: function restoreElement() {\n                    if (!originalElement) {\n                        return; // no element to restore\n                    }\n\n                    // restore original element\n                    insertAfter(originalElement, view.element);\n\n                    // remove our element\n                    view.element.parentNode.removeChild(view.element);\n\n                    // remove reference\n                    originalElement = null;\n                },\n\n                /**\n                 * Returns true if the app root is attached to given element\n                 * @param element\n                 */\n                isAttachedTo: function isAttachedTo(element) {\n                    return view.element === element || originalElement === element;\n                },\n\n                /**\n                 * Returns the root element\n                 */\n                element: {\n                    get: function get() {\n                        return view.element;\n                    },\n                },\n\n                /**\n                 * Returns the current pond status\n                 */\n                status: {\n                    get: function get() {\n                        return store.query('GET_STATUS');\n                    },\n                },\n            }\n        );\n\n        // Done!\n        store.dispatch('DID_INIT');\n\n        // create actual api object\n        return createObject(exports);\n    };\n\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function(key, value) {\n            defaultOptions[key] = value[0];\n        });\n\n        // set app options\n        var app = createApp(\n            Object.assign(\n                {},\n\n                defaultOptions,\n                {},\n\n                customOptions\n            )\n        );\n\n        // return the plugin instance\n        return app;\n    };\n\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function(selector, mapping) {\n            forin(object, function(property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n\n                // tests if\n                var matches = selectorRegExp.test(property);\n\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function(index) {\n            attributes.push(node.attributes[index]);\n        });\n\n        var output = attributes\n            .filter(function(attribute) {\n                return attribute.name;\n            })\n            .reduce(function(obj, attribute) {\n                var value = attr(node, attribute.name);\n\n                obj[attributeNameToPropertyName(attribute.name)] =\n                    value === attribute.name ? true : value;\n                return obj;\n            }, {});\n\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n\n        return output;\n    };\n\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process',\n                    },\n\n                    '^revert': {\n                        group: 'revert',\n                    },\n\n                    '^fetch': {\n                        group: 'fetch',\n                    },\n\n                    '^restore': {\n                        group: 'restore',\n                    },\n\n                    '^load': {\n                        group: 'load',\n                    },\n                },\n            },\n\n            // don't include in object\n            '^type$': false,\n            '^files$': false,\n        };\n\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n\n        var attributeOptions = getAttributesAsObject(\n            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n            attributeMapping\n        );\n\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function(key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            } else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(\n            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {\n                return {\n                    source: input.value,\n                    options: {\n                        type: input.dataset.type,\n                    },\n                };\n            })\n        );\n\n        // build plugin\n        var app = createAppObject(mergedOptions);\n\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function(file) {\n                app.addFile(file);\n            });\n        }\n\n        // replace the target element\n        app.replaceElement(element);\n\n        // expose\n        return app;\n    };\n\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n        return api;\n    };\n\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {\n            return replacements[group];\n        });\n    };\n\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript',\n        });\n\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n\n        return {\n            transfer: function transfer(message, cb) {},\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n\n                worker.onmessage = function(e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n\n                worker.postMessage(\n                    {\n                        id: id,\n                        message: message,\n                    },\n\n                    transferList\n                );\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            },\n        };\n    };\n\n    var loadImage = function loadImage(url) {\n        return new Promise(function(resolve, reject) {\n            var img = new Image();\n            img.onload = function() {\n                resolve(img);\n            };\n            img.onerror = function(e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n\n        // remember this plugin\n        registeredPlugins.push(plugin);\n\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString,\n            },\n\n            views: {\n                fileActionButton: fileActionButton,\n            },\n        });\n\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n\n    var supported = (function() {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported =\n            // Has to be a browser\n            isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n\n        return function() {\n            return isSupported;\n        };\n    })();\n\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: [],\n    };\n\n    // plugin name\n    var name = 'filepond';\n\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() {};\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(\n            function() {\n                state.apps.forEach(function(app) {\n                    return app._read();\n                });\n            },\n            function(ts) {\n                state.apps.forEach(function(app) {\n                    return app._write(ts);\n                });\n            }\n        );\n\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(\n                new CustomEvent('FilePond:loaded', {\n                    detail: {\n                        supported: supported,\n                        create: exports.create,\n                        destroy: exports.destroy,\n                        parse: exports.parse,\n                        find: exports.find,\n                        registerPlugin: exports.registerPlugin,\n                        setOptions: exports.setOptions,\n                    },\n                })\n            );\n\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function() {\n                return dispatch();\n            }, 0);\n        } else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function(key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n\n        exports.OptionTypes = {};\n        updateOptionTypes();\n\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n\n                // restore original dom element\n                app.restoreElement();\n\n                return true;\n            }\n\n            return false;\n        };\n\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function(newHook) {\n                return !state.apps.find(function(app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n\n            // create new instance for each hook\n            return newHooks.map(function(hook) {\n                return exports.create(hook);\n            });\n        };\n\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (\n                var _len = arguments.length, plugins = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                plugins[_key] = arguments[_key];\n            }\n\n            // register plugins\n            plugins.forEach(createAppPlugin);\n\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function(key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function(app) {\n                    app.setOptions(opts);\n                });\n\n                // override defaults\n                setOptions(opts);\n            }\n\n            // return new options\n            return exports.getOptions();\n        };\n    }\n\n    exports.supported = supported;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Variables for API\n */\nexport const _API = {\n    list: '/bundle/looly/media-bundle/list',\n    add: '/bundle/looly/media-bundle/add',\n    remove: '/bundle/looly/media-bundle/remove',\n}\n\n/**\n * Variables for card media\n */\nexport const _CARD = {\n    list: 'lm-gallery',\n    card: 'lm-card-media',\n    checkbox: 'lm-card-media__checkbox',\n    remove: 'lm-card-media__remove'\n}\n\n/**\n * Variables for gallery field\n */\nexport const _GALLERY = {\n    list: 'lm-gallery',\n    actions: {\n        add: 'lm-gallery__action--add',\n        cancel: 'lm-gallery__action--cancel',\n        delete: 'lm-gallery__action--delete_selected',\n        select: 'lm-gallery__action--select',\n        load_more: 'lm-gallery__action--load_more'\n    }\n}\n\n/**\n * Variables for media field\n */\nexport const _MEDIA = {\n    field: 'lm-media',\n    value: 'lm-media__input',\n    preview: 'lm-media__preview',\n    image: 'lm-media__image',\n    actions: {\n        select: 'lm-media__action--select',\n        delete: 'lm-media__action--delete',\n    }\n}\n\nexport const _LIBRARY = {\n    list: 'lm-library',\n    actions: {\n        upload: '',\n        load_more: 'lm-library__action--load_more'\n    }\n}\n\n/**\n * Variables for library modal\n */\nexport const _MODAL_LIBRARY = {\n    list: 'lm-gallery',\n    actions: {\n        select: 'lm-gallery__action--select',\n        load_more: 'lm-gallery__action--load_more',\n    }\n}\n\n/**\n * Variables for library modal\n */\nexport const _MODAL_DELETE = {\n    actions: {\n        cancel: 'lm-modal-delete--cancel',\n        delete: 'lm-modal-delete--delete',\n    }\n}\n\nexport const _UPLOAD = {\n    file: 'lm-file_upload',\n    actions: {\n        modal_upload: 'lm-action--modal_upload'\n    }\n}","export const modalLibrary = () => {\n    return `\n        <div class=\"lm-modal lm-modal-library is-loading\">\n            <div class=\"lm-modal__body\">  \n                <div class=\"lm-gallery lm-field\" data-type=\"library\" data-page=\"1\" data-limit=\"24\">  \n                    <div class=\"lm-gallery__wrapper\">\n                        <div class=\"lm-gallery__panel\">\n                            <h6 class=\"lm-gallery__title\">Media Library</h6>\n                            <div class=\"lm-gallery__actions\">\n                                <button class=\" btn lm-action--modal_upload\">Upload file</button>\n                                <button type=\"button\" class=\"btn btn-primary lm-gallery__action lm-gallery__action--select\">Select</button>\n                                <button type=\"button\" class=\"btn btn-primary lm-gallery__action lm-gallery__action--add\"><i class=\"fa-solid fa-plus\"></i></button>\n                                <button type=\"button\" class=\"btn lm-gallery__action lm-gallery__action--cancel\">Cancel</button>\n                                <button type=\"button\" class=\"btn btn-danger lm-gallery__action lm-gallery__action--delete_selected\">Delete selected</button>\n                            </div>\n                        </div>\n                        <div class=\"lm-gallery__items lm-field__items\"></div>\n                        <div class=\"lm-gallery__footer\">    \n                            <button type=\"button\" class=\"btn lm-gallery__action lm-gallery__action--load_more\">Load more</button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    `;\n}","\ninterface Data {\n    fullPath?: string;\n    slug?: string;\n    [key: string]: any;\n}\n\nexport const card = (data: Data) => {\n    if(!data.fullPath || !data.slug) return;\n\n    return `\n        <div class=\"lm-card-media\">\n            <input class=\"lm-card-media__checkbox\" type=\"checkbox\" id=\"${data.slug}\" name=\"__\" value=\"${data.id}\">\n            <label for=\"${data.slug}\" class=\"lm-card-media__label\">\n                 <button class=\"lm-card-media__remove\"></button>\n                 <img src=\"${data.thumbnail}\" class=\"lm-item__image\">\n            </label>\n        </div>\n    `;\n};","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  value = +value;\n  return Number.isFinite(value) ? value : defaultValue;\n}\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz'\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n}\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0]\n  }\n\n  return str;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  response && (this.response = response);\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.response && this.response.status ? this.response.status : null\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?object} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst isStandardBrowserEnv = (() => {\n  let product;\n  if (typeof navigator !== 'undefined' && (\n    (product = navigator.product) === 'ReactNative' ||\n    product === 'NativeScript' ||\n    product === 'NS')\n  ) {\n    return false;\n  }\n\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n})();\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\n const isStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  isStandardBrowserEnv,\n  isStandardBrowserWebWorkerEnv,\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      if (!hasJSONContentType) {\n        return data;\n      }\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        const cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n// Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })();\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.isStandardBrowserEnv ?\n\n// Standard browser envs have full support of the APIs needed to test\n// whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    const msie = /(msie|trident)/i.test(navigator.userAgent);\n    const urlParsingNode = document.createElement('a');\n    let originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      let href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n          urlParsingNode.pathname :\n          '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      const parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n          parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })();\n","'use strict';\n\nimport utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport cookies from './../helpers/cookies.js';\nimport buildURL from './../helpers/buildURL.js';\nimport buildFullPath from '../core/buildFullPath.js';\nimport isURLSameOrigin from './../helpers/isURLSameOrigin.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport speedometer from '../helpers/speedometer.js';\n\nfunction progressEventReducer(listener, isDownloadStream) {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e\n    };\n\n    data[isDownloadStream ? 'download' : 'upload'] = true;\n\n    listener(data);\n  };\n}\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    let requestData = config.data;\n    const requestHeaders = AxiosHeaders.from(config.headers).normalize();\n    const responseType = config.responseType;\n    let onCanceled;\n    function done() {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(onCanceled);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', onCanceled);\n      }\n    }\n\n    let contentType;\n\n    if (utils.isFormData(requestData)) {\n      if (platform.isStandardBrowserEnv || platform.isStandardBrowserWebWorkerEnv) {\n        requestHeaders.setContentType(false); // Let the browser set it\n      } else if(!requestHeaders.getContentType(/^\\s*multipart\\/form-data/)){\n        requestHeaders.setContentType('multipart/form-data'); // mobile/desktop app frameworks\n      } else if(utils.isString(contentType = requestHeaders.getContentType())){\n        // fix semicolon duplication issue for ReactNative FormData implementation\n        requestHeaders.setContentType(contentType.replace(/^\\s*(multipart\\/form-data);+/, '$1'))\n      }\n    }\n\n    let request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.set('Authorization', 'Basic ' + btoa(username + ':' + password));\n    }\n\n    const fullPath = buildFullPath(config.baseURL, config.url);\n\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = config.transitional || transitionalDefaults;\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (platform.isStandardBrowserEnv) {\n      // Add xsrf header\n      // regarding CVE-2023-45857 config.withCredentials condition was removed temporarily\n      const xsrfValue = isURLSameOrigin(fullPath) && config.xsrfCookieName && cookies.read(config.xsrfCookieName);\n\n      if (xsrfValue) {\n        requestHeaders.set(config.xsrfHeaderName, xsrfValue);\n      }\n    }\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = config.responseType;\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', progressEventReducer(config.onDownloadProgress, true));\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', progressEventReducer(config.onUploadProgress));\n    }\n\n    if (config.cancelToken || config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      config.cancelToken && config.cancelToken.subscribe(onCanceled);\n      if (config.signal) {\n        config.signal.aborted ? onCanceled() : config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(fullPath);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? thing.toJSON() : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b) => mergeDeepProperties(headersToObject(a), headersToObject(b), true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","export const VERSION = \"1.6.0\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","import {_API} from \"../../options/variables\";\nimport axios from \"axios\";\n\nexport const handlerList = async (limit = 10, page = 1, ids: number[] = []) => {\n    try {\n        const response = await axios.get(_API.list, {\n            params: {\n                limit: limit,\n                page: page,\n                ids: ids\n            }\n        });\n\n        return response.data;\n    } catch (error) {\n        return error;\n    }\n};\n","import * as basicLightbox from 'basiclightbox';\nimport {modalLibrary} from '../template/modal-library';\nimport {card} from \"../template/card\";\nimport {handlerList} from \"../handler/api/list\";\nimport {_CARD, _GALLERY, _MODAL_LIBRARY, _MEDIA} from \"../options/variables\";\n\nlet excludeIds : number[] = [];\nlet field: HTMLElement;\nlet modal : basicLightbox.BasicLightbox;\nlet library : HTMLElement;\n\nexport function handlerOpenModalLibrary(fieldHandler: HTMLElement, ids : number[] = []) : basicLightbox.BasicLightbox {\n    const bodyEl = document.querySelector('body') as HTMLBodyElement;\n    excludeIds = ids;\n    field = fieldHandler;\n\n    const modalHandler = basicLightbox.create(modalLibrary(), {\n        onShow: (instance) => {\n            bodyEl.classList.add('is-scroll');\n\n            const element = instance.element() as HTMLElement;\n            const elModal = element.querySelector('.lm-modal') as HTMLElement;\n            const itemsEl = element.querySelector('.lm-gallery__items') as HTMLElement;\n            const elList = element.querySelector('.lm-gallery') as HTMLElement;\n\n            const page =  Number(elList.getAttribute('data-page'));\n            const limit = Number(elList.getAttribute('data-limit'));\n\n            library = elList;\n\n            handlerList(limit, page, ids).then((response) => {\n                itemsEl.innerHTML = response.data.map((item) => {\n                    return card(item);\n                }).join('');\n\n                elList.setAttribute('data-page', (page + 1).toString());\n                elModal.classList.remove('is-loading');\n            }).catch((error) => {});\n        },\n        onClose: (instance) => {\n            bodyEl.classList.remove('is-scroll');\n        }\n    });\n\n    modal = modalHandler;\n\n    modalHandler.show();\n\n    return modalHandler;\n}\n\ndocument.addEventListener('click', (event) => {\n    const target = event.target as Element;\n\n    const elList = <HTMLElement> target.closest('.' + _MODAL_LIBRARY.list);\n    const btnSelect = target.closest('.' + _MODAL_LIBRARY.actions.select) as HTMLButtonElement;\n    const btnLoadMore = target.closest('.' + _MODAL_LIBRARY.actions.load_more) as HTMLButtonElement;\n    const elCard = target.closest('.' + _CARD.card);\n\n    if(!elList) {\n        return;\n    }\n\n    if(btnSelect || btnLoadMore) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n\n    /**\n     * Choice card from library\n     */\n    if(elCard) {\n        if(!elCard.closest('.' + _GALLERY.list + '[data-type=\"library\"]')) {\n            return;\n        }\n\n        const multiple = field.getAttribute('data-multiple');\n\n        const checkbox = elCard.querySelector('.' + _CARD.checkbox) as HTMLInputElement;\n\n        if(checkbox) {\n            if(multiple && multiple == \"true\") {\n                checkbox.checked = !checkbox.checked;\n                handleMultipleSelect(elList);\n            } else {\n                handleSingleSelect(elList);\n                checkbox.checked = !checkbox.checked;\n            }\n        }\n    }\n\n    /**\n     * Select media from library\n     */\n    if(btnSelect) {\n        const fieldItems = field.querySelector('.lm-gallery__items');\n        const nameField = field.getAttribute('data-name-field');\n\n        if(fieldItems && nameField) {\n            getSelectedCards().forEach((item) => {\n                const checkbox = item.querySelector('.' + _CARD.checkbox) as HTMLInputElement;\n                checkbox.checked = true;\n                checkbox.setAttribute('name', nameField);\n\n                fieldItems.insertAdjacentElement('afterbegin', item);\n            });\n        } else {\n            const preview = field.querySelector('.lm-media__preview') as HTMLElement;\n            const fieldInput = field.querySelector('.' + _MEDIA.value) as HTMLInputElement;\n\n            if(preview) {\n                preview.innerHTML = getSelectedCards().map((item) => {\n                    const img = item.querySelector('img');\n                    if(!img || !img.getAttribute('src')) return;\n                    return '<img src=\"' + img.getAttribute('src') + '\" class=\"lm-media__image\">';\n                }).join('');\n                field.classList.add('is-active');\n            }\n\n            if(fieldInput) {\n                fieldInput.value = getSelectedCards().map((item) => {\n                    const input = item.querySelector('input');\n                    if(!input || !input.value) return;\n                    return input.value;\n                }).join('');\n                handlerUpdateCard(fieldInput);\n            }\n        }\n\n        modal.close();\n    }\n\n    /**\n     * Load more media from library\n     */\n    if(btnLoadMore) {\n        const page =  Number(elList.getAttribute('data-page'));\n        const limit = Number(elList.getAttribute('data-limit'));\n        const itemsEl = elList.querySelector('.lm-gallery__items') as HTMLElement;\n        btnLoadMore.classList.add('is-loading');\n\n        handlerList(limit, page, excludeIds).then((response) => {\n            itemsEl.insertAdjacentHTML('beforeend',\n                response.data.map((item) => {\n                    return card(item);\n                }).join(''));\n\n            if(response.data.length < limit) {\n                btnLoadMore.style.display = 'none';\n            }\n\n            elList.setAttribute('data-page', (page + 1).toString());\n            btnLoadMore.classList.remove('is-loading');\n        }).catch((error) => {});\n    }\n});\n\nfunction getSelectedCards() : HTMLElement[] {\n    let selected: HTMLElement[] = [];\n    const checkboxes = library.querySelectorAll('.' + _CARD.checkbox + ':checked') as NodeListOf<HTMLInputElement>;\n\n    checkboxes.forEach((checkbox) => {\n        const card = checkbox.closest('.' + _CARD.card) as HTMLElement;\n        selected.push(card);\n    });\n\n    return selected;\n}\n\nfunction checkingSelectedCard(wrapper: HTMLElement) : boolean {\n    let selected = false;\n    const checkboxes = wrapper.querySelectorAll('.' + _CARD.checkbox) as NodeListOf<HTMLInputElement>;\n\n    checkboxes.forEach((checkbox) => {\n        if(checkbox.checked) {\n            selected = true;\n        }\n    });\n\n    return selected;\n}\n\nfunction handleMultipleSelect(wrapper: HTMLElement) : void {\n    if(checkingSelectedCard(wrapper)) {\n        wrapper.classList.add('is-multiple_select');\n    } else {\n        wrapper.classList.remove('is-multiple_select');\n    }\n}\n\nfunction handleSingleSelect(wrapper: HTMLElement) : void {\n    const list = wrapper.querySelectorAll('.' + _CARD.card);\n\n    list.forEach((card) => {\n        const checkbox = card.querySelector('.' + _CARD.checkbox) as HTMLInputElement;\n        checkbox.checked = false;\n    });\n\n    wrapper.classList.add('is-multiple_select');\n}\n\nfunction handlerUpdateCard(input: HTMLInputElement): void {\n    setTimeout(() => {\n        const card = <HTMLElement> input.closest('.card');\n\n        if(!card) {\n            return;\n        }\n\n        const divForm = <HTMLElement> card.parentElement;\n        const divDivForm = <HTMLElement> divForm.parentElement;\n\n        if(divDivForm) {\n            divDivForm.dispatchEvent(new Event('change'));\n        }\n    }, 300);\n}","import {_CARD, _GALLERY} from \"../options/variables\";\nimport {handlerOpenModalLibrary} from \"../module/modal\";\n\ndocument.addEventListener('click', (event) => {\n    const target = event.target as Element;\n    const btnRemoveCard = target.closest('.' + _CARD.remove);\n    const elCard = target.closest('.' + _CARD.card);\n    const elList = <HTMLElement> target.closest('.' + _GALLERY.list);\n    const btnDeleteSelected = target.closest('.' + _GALLERY.actions.delete) as HTMLButtonElement;\n    const btnCancel = target.closest('.' + _GALLERY.actions.cancel) as HTMLButtonElement;\n    const btnAdd = target.closest('.' + _GALLERY.actions.add) as HTMLButtonElement;\n    const typeGallery = elList?.getAttribute('data-type');\n\n    if(!elList) {\n        return;\n    }\n\n    if(btnRemoveCard || elCard || btnDeleteSelected || btnCancel || btnAdd) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n\n    /**\n     * Remove card from gallery\n     */\n    if(btnRemoveCard && elCard) {\n        elCard.remove();\n        handleMultipleDelete(elList);\n    }\n\n    /**\n     * Select card from gallery\n     */\n    if(elCard && !btnRemoveCard) {\n        if(!elCard.closest('.' + _GALLERY.list + '[data-type=\"field\"]')) {\n            return;\n        }\n\n        const checkbox = elCard.querySelector('.' + _CARD.checkbox) as HTMLInputElement;\n        if(checkbox) {\n            checkbox.checked = !checkbox.checked;\n            handleMultipleDelete(elList);\n        }\n    }\n\n    /**\n     * Delete selected cards\n     */\n    if(btnDeleteSelected) {\n        const cards = elList.querySelectorAll('.' + _CARD.card);\n        cards.forEach((card) => {\n            const checkbox = card.querySelector('.' + _CARD.checkbox) as HTMLInputElement;\n\n            if(!checkbox.checked) {\n                card.remove();\n            }\n        });\n\n        handleMultipleDelete(elList);\n    }\n\n    /**\n     * Cancel delete selected cards\n     */\n    if(btnCancel) {\n        const checkboxes = elList.querySelectorAll('.' + _CARD.checkbox) as NodeListOf<HTMLInputElement>;\n        checkboxes.forEach((checkbox) => {\n            checkbox.checked = true;\n        });\n\n        handleMultipleDelete(elList);\n    }\n\n    /**\n     * Open modal library\n     */\n    if(btnAdd) {\n        handlerOpenModalLibrary(elList, getCheckedCards(elList));\n    }\n});\n\nfunction checkingUnSelectedCard(wrapper: HTMLElement) : boolean {\n    let selected = false;\n    const checkboxes = wrapper.querySelectorAll('.' + _CARD.checkbox) as NodeListOf<HTMLInputElement>;\n\n    checkboxes.forEach((checkbox) => {\n        if(!checkbox.checked) {\n            selected = true;\n        }\n    });\n\n    return selected;\n}\n\nfunction handleMultipleDelete(wrapper: HTMLElement) : void {\n    if(checkingUnSelectedCard(wrapper)) {\n        wrapper.classList.add('is-multiple_delete');\n    } else {\n        wrapper.classList.remove('is-multiple_delete');\n    }\n}\n\nfunction getCheckedCards(wrapper: HTMLElement) : number[] {\n    let selected: number[] = [];\n    const checkboxes = wrapper.querySelectorAll('.' + _CARD.checkbox) as NodeListOf<HTMLInputElement>;\n\n    checkboxes.forEach((checkbox) => {\n        selected.push(Number(checkbox.value));\n    });\n\n    return selected;\n}","import {_CARD, _GALLERY, _MEDIA} from \"../options/variables\";\nimport {handlerOpenModalLibrary} from \"../module/modal\";\n\ndocument.addEventListener('click', (event) => {\n    const target = event.target as Element;\n\n    const btnSelect = target.closest('.' + _MEDIA.actions.select) as HTMLButtonElement;\n    const btnDelete = target.closest('.' + _MEDIA.actions.delete) as HTMLButtonElement;\n    const elField = target.closest('.' + _MEDIA.field) as HTMLElement;\n\n    if(!elField) {\n        return;\n    }\n\n    const elInput = elField.querySelector('.' + _MEDIA.value) as HTMLInputElement;\n    const elPreview = elField.querySelector('.' + _MEDIA.preview) as HTMLElement;\n\n    /**\n     * Open modal library\n     */\n    if(btnSelect) {\n        handlerOpenModalLibrary(elField, [Number(elInput.value)]);\n    }\n\n    /**\n     * Delete selected media\n     */\n    if(btnDelete) {\n        elField.classList.remove('is-active');\n        elInput.value = '';\n\n        const elPreviewImage = elPreview.querySelector('.' + _MEDIA.image);\n\n        if(elPreviewImage) {\n            elPreviewImage.remove();\n        }\n    }\n});","import * as basicLightbox from 'basiclightbox';\nimport {modalDelete} from '../template/modal-delete';\nimport {_CARD, _MODAL_DELETE} from \"../options/variables\";\nimport {handlerRemove} from '../handler/api/remove';\n\nlet modal : basicLightbox.BasicLightbox;\nlet field: HTMLElement;\n\n/**\n * Open modal delete\n */\nexport function handlerOpenModalDelete(fieldHandler: HTMLElement) : basicLightbox.BasicLightbox {\n    field = fieldHandler;\n\n    modal = basicLightbox.create(modalDelete(), {\n        onShow: (instance) => { },\n        onClose: (instance) => { }\n    });\n\n    modal.show();\n}\n\ndocument.addEventListener('click', (event) => {\n    const target = event.target as Element;\n\n    const btnCancel = target.closest('.' + _MODAL_DELETE.actions.cancel);\n    const btnDelete = target.closest('.' + _MODAL_DELETE.actions.delete);\n\n    /**\n     * Close modal without delete\n     */\n    if(btnCancel) {\n        modal.close();\n    }\n\n    /**\n     * Delete media from library\n     */\n    if(btnDelete) {\n        const input = field.querySelector('.' + _CARD.checkbox) as HTMLInputElement;\n\n        if(!input) {\n            return;\n        }\n\n        handlerRemove(input.value).then(r => {\n            field.remove();\n            modal.close();\n        });\n    }\n});","import {_API} from \"../../options/variables\";\nimport axios from \"axios\";\n\nexport const handlerRemove = async (id) => {\n    try {\n        const response = await axios.get(_API.remove, {\n            params: {\n                id: id\n            }\n        });\n\n        return response.data;\n    } catch (error) {\n        return error;\n    }\n};\n","import {handlerOpenModalDelete} from \"../module/delete\";\nimport {_CARD, _LIBRARY} from \"../options/variables\";\nimport {handlerList} from \"../handler/api/list\";\nimport {card} from \"../template/card\";\n\ndocument.addEventListener('click', (event) => {\n    const target = event.target as Element;\n\n    const elList = <HTMLElement> target.closest('.' + _LIBRARY.list);\n    const elCard = target.closest('.' + _CARD.card) as HTMLElement;\n    const btnRemoveCard = target.closest('.' + _CARD.remove);\n    const btnLoadMore = target.closest('.' + _LIBRARY.actions.load_more) as HTMLButtonElement;\n\n    if(btnRemoveCard || btnLoadMore) {\n        event.preventDefault();\n        event.stopPropagation();\n    }\n\n    if(btnRemoveCard) {\n        handlerOpenModalDelete(elCard);\n    }\n\n    if(btnLoadMore) {\n        const page =  Number(elList.getAttribute('data-page'));\n        const limit = Number(elList.getAttribute('data-limit'));\n        const itemsEl = elList.querySelector('.lm-library__items') as HTMLElement;\n        btnLoadMore.classList.add('is-loading');\n\n        handlerList(limit, page).then((response) => {\n            itemsEl.insertAdjacentHTML('beforeend',\n                response.data.map((item) => {\n                    return card(item);\n                }).join(''));\n\n            if(response.data.length < limit) {\n                btnLoadMore.style.display = 'none';\n            }\n\n            elList.setAttribute('data-page', (page + 1).toString());\n            btnLoadMore.classList.remove('is-loading');\n        }).catch((error) => {});\n    }\n\n});","export const modalDelete = () => {\n    return `\n        <div class=\"lm-modal lm-modal-delete\">\n            <div class=\"lm-modal__body\">  \n                <h5 class=\"lm-modal__title\">Do you want to delete this media?</h5>\n                \n                <div class=\"lm-modal__actions\">\n                    <button class=\"btn lm-modal-delete--cancel\">Cancel</button>\n                    <button class=\"btn btn-danger lm-modal-delete--delete\">Delete</button>\n                </div>\n            </div>\n        </div>\n    `;\n}","import * as basicLightbox from 'basiclightbox';\nimport {modalUpload} from '../template/modal-upload';\nimport {_UPLOAD, _API} from \"../options/variables\";\nimport {card} from \"../template/card\";\nimport * as FilePond from 'filepond';\nimport FilePondPluginFileMetadata from 'filepond-plugin-file-metadata';\nimport 'filepond/dist/filepond.min.css';\n\nFilePond.registerPlugin(\n    FilePondPluginFileMetadata\n);\n\nlet modal : basicLightbox.BasicLightbox;\nlet field: HTMLElement;\n\n/**\n * Open modal delete\n */\nexport function handlerOpenModalUpload(fieldHandler: HTMLElement) : basicLightbox.BasicLightbox {\n    field = fieldHandler;\n\n    modal = basicLightbox.create(modalUpload(), {\n        onShow: (instance) => {\n            const element = instance.element() as HTMLElement;\n            const elFile = element.querySelector('.' + _UPLOAD.file) as HTMLInputElement;\n\n            handlerInitFilePond(elFile);\n\n        },\n        onClose: (instance) => { }\n    });\n\n    modal.show();\n}\n\nfunction handlerInitFilePond(input: HTMLInputElement) : FilePond.FilePond {\n    return FilePond.create(input, {\n        allowRevert: false,\n        server: {\n            process: {\n                url: _API.add,\n                method: 'POST',\n                withCredentials: false,\n                onload: (response) => {\n                    response = JSON.parse(response);\n                    const elItems = field.querySelector('.lm-field__items') as HTMLElement;\n\n                    elItems.insertAdjacentHTML('afterbegin',\n                        response.data.map((item) => {\n                            return card(item);\n                        }).join(''));\n\n                    return 126;\n                }\n            }\n        }\n    });\n}\n","import {_UPLOAD} from \"../options/variables\";\nimport {handlerOpenModalUpload} from \"../module/upload\";\n\ndocument.addEventListener('click', (event) => {\n    const target = event.target as Element;\n    const elUpload = <HTMLElement> target.closest('.' + _UPLOAD.actions.modal_upload);\n    const elField = <HTMLElement> target.closest('.lm-field');\n\n    if(elUpload) {\n        handlerOpenModalUpload(elField);\n    }\n});","export const modalUpload = () => {\n    return `\n        <div class=\"lm-modal lm-modal-upload\">\n            <div class=\"lm-modal__header\">\n                <h6 class=\"lm-modal__title\">Upload file</h6>\n            </div>\n            <div class=\"lm-modal__body\"> \n                <input class=\"lm-file_upload\" type=\"file\" multiple>\n            </div>\n        </div>\n    `;\n}"],"names":["root","factory","exports","module","define","amd","self","e","n","t","o","r","c","u","i","a","Error","code","l","call","length","Object","defineProperty","value","create","visible","arguments","document","createElement","innerHTML","trim","children","firstChild","tagName","querySelector","ownerDocument","body","contains","concat","className","forEach","appendChild","s","classList","add","HTMLElement","Array","from","content","cloneNode","assign","closable","onShow","onClose","remove","setTimeout","parentElement","removeChild","addEventListener","target","element","show","requestAnimationFrame","close","plugin","_ref","addFilter","Type","utils","map","group","item","_ref2","query","Promise","resolve","data","keys","key","setMetadata","options","allowFileMetadata","BOOLEAN","fileMetadataObject","OBJECT","window","dispatchEvent","CustomEvent","detail","forin","obj","cb","hasOwnProperty","createObject","definition","property","attr","node","name","undefined","getAttribute","hasAttribute","setAttribute","svgElements","isSVGElement","tag","includes","attributes","createElementNS","appendChildView","parent","childViews","view","index","splice","push","removeChildView","indexOf","parentNode","IS_BROWSER","isBrowser","getChildCount","el","childNodes","getViewRect","elementRect","offset","scale","left","top","right","width","bottom","height","rect","inner","outer","filter","childView","isRectIgnored","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","child","isNumber","easeInOutQuad","animator","spring","_ref$stiffness","stiffness","_ref$damping","damping","_ref$mass","mass","position","velocity","resting","api","interpolate","ts","skipToEndState","destination","errorMargin","Math","abs","thereYet","onupdate","oncomplete","set","get","tween","p","_ref$duration","duration","_ref$easing","easing","_ref$delay","delay","start","reverse","createAnimator","category","def","type","props","addGetSet","overwrite","isArray","getter","setter","isDefined","defaults","opacity","scaleX","scaleY","translateX","translateY","rotateX","rotateY","rotateZ","originX","originY","propsHaveChanged","currentProps","newProps","prop","applyStyles","perspective","transforms","styles","elementCurrentStyle","style","cssText","Mixins","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","getRect","write","destroy","listeners","viewState","events","fn","removeEventListener","removeEvent","on","off","findIndex","event","animations","animation","hidden","apis","updateRect","layoutCalculated","paddingTop","parseInt","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","offsetParent","createView","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","actions","_ref$didCreateView","didCreateView","_ref$didWriteView","didWriteView","_ref$ignoreRect","ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","mixins","store","getComputedStyle","frameRect","isResting","activeMixins","ref","state","writers","readers","destroyers","getElement","getChildViews","sharedAPIDefinition","internalAPIDefinition","is","needle","insertBefore","createChildView","linkView","unlinkView","registerWriter","writer","registerReader","reader","registerDestroyer","destroyer","invalidateLayout","dispatch","externalAPIDefinition","_read","internalAPI","_write","frameActions","shouldOptimize","timestamp","mixin","_destroy","mixinAPIDefinition","sort","b","mixinAPI","childCount","createRoute","routes","_ref$actions","action","newNode","referenceNode","insertAfter","nextSibling","isEmpty","str","toString","isBoolean","toBoolean","isString","toNumber","replace","toInt","toFloat","parseFloat","isInt","isFinite","floor","toBytes","base","naturalFileSize","test","isFunction","methods","process","patch","revert","fetch","restore","load","createAction","outline","method","timeout","headers","url","withCredentials","onload","ondata","onerror","parts","split","header","isObject","getType","isNull","isAPI","conversionTable","array","splitter","boolean","int","number","float","bytes","string","function","levels","level","shift","toFunctionReference","serverapi","object","JSON","parse","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOptions","currentValue","optionDefinition","enumerable","fromCamels","separator","part","toLowerCase","join","createOptionActions","toUpperCase","createOptionQueries","InteractionMethod","getUniqueId","random","substring","_AwaitValue","this","wrapped","_AsyncGenerator","gen","front","back","resume","arg","result","wrappedAwait","then","settle","done","err","reject","next","_invoke","request","return","_objectWithoutProperties","source","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","_toConsumableArray","arr","arr2","_arrayWithoutHoles","iter","Symbol","iterator","_iterableToArray","TypeError","_nonIterableSpread","asyncIterator","throw","decimalSeparator","thousandsStringWithSeparator","arrayRemove","listener","_fire","args","sync","run","apply","fireSync","_len","_key","fire","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","src","getOwnPropertyNames","getOwnPropertyDescriptor","PRIVATE","createItemAPI","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","exec","getDecimalSeparator","toLocaleString","INT","NUMBER","STRING","ARRAY","FUNCTION","ACTION","SERVER_API","REGEX","filters","applyFilterChain","matchingFilters","f","initialFilter","reduce","current","catch","error","applyFilters","getOptions","defaultOptions","id","disabled","required","captureMethod","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowMultiple","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","storeAsFile","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","allowMinimumUploadDuration","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelFileSizeBytes","labelFileSizeKilobytes","labelFileSizeMegabytes","labelFileSizeGigabytes","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","items","find","getNumericAspectRatioFromString","aspectRatio","getActiveItems","archived","Status","EMPTY","ERROR","BUSY","READY","res","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","status","isItemInBusyState","isItemInReadyState","isAsync","queries","GET_STATUS","some","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","filename","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","SHOULD_UPDATE_FILE_INPUT","dataTransfer","DataTransfer","File","canUpdateFileInput","IS_ASYNC","GET_FILE_SIZE_LABELS","labelBytes","labelKilobytes","labelMegabytes","labelGigabytes","limit","min","max","isBase64DataURI","getFilenameFromURL","pop","getExtensionFromFilename","leftPad","padding","slice","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","extension","file","size","lastModifiedDate","_relativePath","subtype","guesstimateExtension","createBlob","arrayBuffer","mimeType","BB","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","bb","append","getBlob","Blob","getMimeTypeFromBase64DataURI","dataURI","getBlobFromBase64DataURI","byteString","atob","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getBlobFromByteStringWithMimeType","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","match","getTranfserIdFromHeader","getFileInfoFromHeaders","info","rows","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","createFileLoader","fetchFn","complete","progress","loadURL","now","response","computable","total","fileinfo","setSource","getProgress","abort","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","send","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","statusText","ChunkStatus","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","lastChunkIndex","retries","requestUrl","requestParams","canProcessChunk","chunk","processChunk","processChunks","updateTotalProgress","retryProcessChunk","every","clearTimeout","totalBytesTransfered","totalSize","formData","FormData","requestTransferId","createProcessorFunction","params","canChunkUpload","shouldChunkUpload","willChunkUpload","createFileProcessorFunction","createRevertFunction","uniqueFileId","getRandomNumber","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","clear","getDuration","progressFn","completeFn","tickMin","tickMax","tick","runtime","createPerceivedPerformanceUpdater","transferId","reset","getFilenameWithoutExtension","lastIndexOf","isFile","deepCloneObject","v","createItem","origin","serverFileReference","frozen","released","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","_setMetadata","silent","last","filenameWithoutExtension","fileExtension","fileType","relativePath","getMetadata","extend","handler","itemAPI","abortLoad","retryLoad","requestProcessing","abortProcessing","loader","createFileStub","meta","success","processor","onprocess","console","revertFileUpload","serverTransferId","freeze","release","archive","setFile","getItemById","itemId","getItemIndexByQuery","fetchBlob","getDomainFromURL","location","protocol","dynamicLabel","label","listUpdated","listUpdateTimeout","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","DID_UPDATE_ITEM_METADATA","_ref3","change","itemUpdateTimeout","doUpload","shouldPrepareOutput","MOVE_ITEM","_ref4","currentIndex","SORT","_ref5","ADD_ITEMS","_ref6","_ref6$success","_ref6$failure","insertLocation","totalItems","promises","all","ADD_ITEM","_ref7","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","count","maxFileCount","hasRoomForItem","_item","arrayInsert","insertItem","mainStatus","main","sub","handleAdd","shouldAdd","loadComplete","_ref8","href","isExternalURL","REQUEST_PREPARE_OUTPUT","_ref9","_ref9$failure","COMPLETE_LOAD_ITEM","_ref10","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","output","REQUEST_ITEM_PROCESSING","processNow","PROCESS_ITEM","processNext","queueEntry","processingQueue","itemReference","noop","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","isMockItem","SET_OPTIONS","_ref11","optionKeys","prioritizedOptionKeys","PrioritizedOptions","createElement$1","text","textNode","nodeValue","createTextNode","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","PI","x","cos","y","sin","percentageArc","to","arcSweep","startAngle","endAngle","end","describeArc","progressIndicator","spin","svg","path","align","dataset","ringStrokeWidth","ringFrom","ringTo","coordinates","fileActionButton","icon","isDisabled","shouldDisable","removeAttribute","toNaturalFileSize","_options$labelBytes","_options$labelKilobyt","_options$labelMegabyt","_options$labelGigabyt","KB","MB","GB","round","removeDecimalsWhenZero","decimalCount","toFixed","updateFile","fileName","updateFileSizeOnError","fileInfo","DID_LOAD_ITEM","DID_UPDATE_ITEM_META","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_INVALID","toPercentage","didSetItemLoadProgress","title","fileStatus","DID_REVERT_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_COMPLETE_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","isSupported","calculateFileInfoOffset","getRemoveIndicatorAligment","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","DID_START_ITEM_PROCESSING","processingCompleteIndicatorView","route","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","_ref12","buttonFilter","LocalButtons","prev","curr","alignRemoveItemButton","enabledButtons","_map","buttonView","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","stylesToApply","defaultStyles","control","fileWrapper","PANEL_SPRING_PROPS","createSection","section","viewConstructor","panel","heightCurrent","scalable","topRect","bottomRect","center","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","dragOrigin","DID_DRAG_ITEM","dragState","DID_DROP_ITEM","dragOffset","currentState","filepondItemState","container","handleClick","markedForRemoval","isPrimary","removedActivateListener","pageX","pageY","dragCenter","offsetX","offsetY","itemIds","prevIndex","setIndex","getIndex","getItemIndex","drag","preventDefault","drop","cancel","getItemsPerRow","horizontalSpace","itemWidth","getItemIndexByPosition","positionInView","itemRect","itemHorizontalMargin","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","itemTop","itemRight","itemBottom","dropAreaDimensions","getHeight","setHeight","val","getWidth","setWidth","setDimensions","moveItem","vx","vy","spawnDate","introItemView","getItemHeight","route$2","DID_ADD_ITEM","addIndex","cooldown","dist","lastItemSpanwDate","DID_REMOVE_ITEM","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","getGridIndex","getColIndex","visibleChildren","idx","childBottom","childTop","list","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","indexX","indexY","vectorX","sign","vectorY","route$3","DID_DRAG","scopeLeft","scopeTop","DID_END_DRAG","listScroller","overflowing","overflow","newHeight","attrToggle","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","doesAllowBrowse","disableField","toggleRequired","setCaptureMethod","updateRequiredStatus","setCustomValidity","browser","handleChange","webkitRelativePath","input","form","resetFileInput","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","updateLabelValue","clickable","dropLabel","handleKeyDown","keyCode","click","caption","DID_SET_LABEL_IDLE","route$4","addBlob","DID_DROP","drip","setInputFiles","getField","fields","syncFieldPositionsWithItems","didReorderItems","write$8","shouldUseFileInput","dataContainer","field","fileItem","DID_DEFINE_VALUE","DID_PREPARE_OUTPUT","DID_REORDER_ITEMS","DID_SORT_ITEMS","images","text$1","zip","epub","guesstimateMimeType","requestDataTransferItems","links","getLinks","hasFiles","getFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","isEntry","entry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","getDragNDropObserver","observer","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","addListener","client","isEventTarget","elementAtPosition","point","elementFromPoint","getRootNode","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","onenter","overDropTarget","filterElement","onexit","ondrag","allowdrop","allowsTransfer","ondrop","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","scopeToObserve","createDragNDropClient","documentElement","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","createPaster","listen","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","message","textContent","listModified","clear$1","isUsingFilePond","itemProcessedUndo","itemError","assistant","toCamels","RegExp","charAt","debounce","func","interval","immidiateOnly","prevent","calculateListItemMargin","calculateListHeight","visual","bounds","scrollList","itemList","newItem","removedItem","verticalItemCount","ceil","calculateRootBoundingBoxHeight","measureHeight","cappedHeight","maxHeight","fixedHeight","exceedsMaxFiles","maxItems","totalBrowseItems","getDragIndex","toggleDrop","isAllowed","enabled","hopper","queue","toggleBrowse","togglePaste","paster","route$5","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","measure","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","frag","tabindex","rel","_root$ref","isMultiItem","atMaxCapacity","addAction","listItemMargin","listHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","_listAvailableHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","transform","createApp","initialOptions","originalElement","initialState","actionQueue","dispatchQueue","isBlocking","actionHandlers","_queryHandles","queryHandles","getState","processActionQueue","processDispatchQueue","createStore","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","pond","bubbles","cancelable","composed","filtered","prepareFile","removeFile","addFiles","sources","lastArgument","processFile","createOptionAPI","setOptions","addFile","getFile","moveFile","processFiles","_len3","_key3","removeFiles","_len4","_key4","q","prepareFiles","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","attributeName","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","app","createApp$1","PRIVATE_METHODS","createAppAPI","replaceInString","replacements","createWorker","workerBlob","workerURL","URL","createObjectURL","worker","Worker","post","transferList","onmessage","postMessage","terminate","revokeObjectURL","loadImage","img","Image","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","pluginOutline","views","additionalOptions","supported","operamini","CSS","navigator","userAgent","apps","FileStatus","OptionTypes","registerPlugin","fps","painter","requestTick","cancelTick","setTimerType","performance","cancelAnimationFrame","delta","createPainter","updateOptionTypes","hook","indexToRemove","context","newHook","plugins","opts","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__esModule","d","toStringTag","_API","_CARD","_GALLERY","_MEDIA","_LIBRARY","_MODAL_LIBRARY","_MODAL_DELETE","_UPLOAD","card","slug","thumbnail","bind","thisArg","getPrototypeOf","kindOf","cache","thing","kindOfTest","typeOfTest","isUndefined","isArrayBuffer","isPlainObject","isDate","isBlob","isFileList","isURLSearchParams","allOwnKeys","len","findKey","_global","globalThis","global","isContextDefined","isTypedArray","TypedArray","isHTMLForm","isRegExp","reduceDescriptors","reducer","descriptors","getOwnPropertyDescriptors","reducedDescriptors","descriptor","ret","defineProperties","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","isBuffer","constructor","isFormData","isArrayBufferView","isView","buffer","isStream","pipe","merge","caseless","assignValue","targetKey","stripBOM","inherits","superConstructor","toFlatObject","sourceObj","destObj","propFilter","merged","endsWith","searchString","String","lastIndex","toArray","forEachEntry","pair","matchAll","regExp","hasOwnProp","freezeMethods","writable","toObjectSet","arrayOrString","delimiter","toCamelCase","m","p1","p2","toFiniteNumber","Number","generateString","alphabet","isSpecCompliantForm","toJSONObject","stack","visit","reducedValue","isThenable","AxiosError","config","captureStackTrace","toJSON","description","lineNumber","columnNumber","customProps","axiosError","cause","isVisitable","removeBrackets","renderKey","dots","token","predicates","metaTokens","indexes","visitor","defaultVisitor","useBlob","convertValue","toISOString","Buffer","isFlatArray","exposedHelpers","build","encode","charMap","AxiosURLSearchParams","_pairs","encoder","_encode","serializeFn","serialize","serializedParams","hashmarkIndex","use","fulfilled","rejected","synchronous","runWhen","eject","h","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","classes","URLSearchParams","isStandardBrowserEnv","product","isStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","protocols","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","transitional","adapter","transformRequest","contentType","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","isNode","toURLEncodedForm","formSerializer","_FormData","env","rawValue","parser","stringifySafely","transformResponse","JSONRequested","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","maxBodyLength","validateStatus","common","ignoreDuplicateOf","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","setHeader","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parsed","line","parseHeaders","tokens","tokensRE","parseTokens","has","matcher","deleted","deleteHeader","normalize","format","normalized","w","char","formatHeader","targets","asStrings","first","computed","accessor","accessors","defineAccessor","accessorName","methodName","arg1","arg2","arg3","configurable","buildAccessors","mapped","headerValue","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","expires","domain","secure","cookie","toGMTString","decodeURIComponent","buildFullPath","baseURL","requestedURL","relativeURL","combineURLs","msie","urlParsingNode","originURL","resolveURL","host","search","hash","hostname","port","pathname","requestURL","progressEventReducer","isDownloadStream","bytesNotified","_speedometer","samplesCount","timestamps","firstSampleTS","head","tail","chunkLength","startedAt","bytesCount","passed","progressBytes","rate","estimated","knownAdapters","http","requestData","requestHeaders","onCanceled","cancelToken","unsubscribe","signal","auth","username","password","btoa","onloadend","responseHeaders","ERR_BAD_REQUEST","responseText","paramsSerializer","responseURL","ECONNABORTED","ERR_NETWORK","timeoutErrorMessage","ETIMEDOUT","xsrfValue","isURLSameOrigin","cookies","onDownloadProgress","onUploadProgress","subscribe","parseProtocol","renderReason","reason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","timeoutMessage","decompress","beforeRedirect","transport","httpAgent","httpsAgent","socketPath","responseEncoding","configValue","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","ERR_DEPRECATED","warn","assertOptions","schema","allowUnknown","ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","Axios","instanceConfig","interceptors","configOrUrl","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","unshift","responseInterceptorChain","promise","chain","newConfig","onFulfilled","onRejected","getUri","generateHTTPMethod","isForm","CancelToken","executor","resolvePromise","_listeners","onfulfilled","_resolve","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","axios","createInstance","defaultConfig","instance","VERSION","toFormData","Cancel","spread","callback","isAxiosError","payload","formToJSON","getAdapter","default","handlerList","page","ids","modal","library","excludeIds","handlerOpenModalLibrary","fieldHandler","bodyEl","modalHandler","elModal","itemsEl","elList","getSelectedCards","selected","checkbox","closest","handleMultipleDelete","wrapper","checked","checkingUnSelectedCard","btnSelect","btnLoadMore","elCard","multiple","checkingSelectedCard","handleSingleSelect","fieldItems","nameField","insertAdjacentElement","preview","fieldInput","divDivForm","Event","insertAdjacentHTML","display","btnRemoveCard","btnDeleteSelected","btnCancel","btnAdd","getCheckedCards","btnDelete","elField","elInput","elPreview","elPreviewImage","elUpload"],"sourceRoot":""}